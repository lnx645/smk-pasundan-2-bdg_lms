import{m as $,af as V,b as d,o as n,e,k as h,d as c,V as w,g as o,i as a,c as M,ag as S,t as f,n as j,ah as A,F as y,j as B,ai as N,X as H,p as L,u as F,L as b,f as I,s as _,aj as K,A as k}from"./app-6R2423CB.js";import{T as P,p as z,e as E,d as U}from"./TugasController-DhFk6SCa.js";import{_ as C}from"./button.vue_vue_type_script_setup_true_lang-Dz5dKsO2.js";import{_ as J}from"./input.vue_vue_type_script_setup_true_lang-lZDRTLU2.js";import{N as O}from"./NotFoundVector-neAXUjBW.js";import{M as X}from"./MaterialSymbolsAddCircleOutline-B2_zKTdM.js";import{_ as q}from"./page-title.vue_vue_type_script_setup_true_lang-By9Ku7yv.js";import{C as G}from"./vue-select.es-6d7oZifc.js";const Q={class:"flex min-h-[400px] w-full flex-col items-center justify-center rounded-xl border-2 border-dashed border-neutral-200 bg-neutral-50/50 p-10 text-center transition-all hover:bg-neutral-50"},R={class:"mb-5 flex h-20 w-20 items-center justify-center rounded-full bg-white shadow-sm border border-neutral-100 p-4"},W={class:"text-lg font-bold text-neutral-800"},Y={class:"mt-2 max-w-md text-sm leading-relaxed text-neutral-500"},Z={key:0,class:"mt-6"},D=$({__name:"NotData",setup(v){const m=V();return(s,p)=>(n(),d("div",Q,[e("div",R,[c(O,{class:"h-full w-full opacity-60"})]),e("h3",W,[w(s.$slots,"title",{},()=>[p[0]||(p[0]=o("Data Tidak Ditemukan",-1))])]),e("p",Y,[w(s.$slots,"description",{},()=>[p[1]||(p[1]=o(" Data yang Anda cari tidak tersedia. ",-1))])]),a(m).actions?(n(),d("div",Z,[w(s.$slots,"actions")])):h("",!0)]))}}),ee={class:"group relative flex flex-col rounded-2xl border border-neutral-200 bg-white p-5 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:border-blue-300 hover:shadow-lg"},te={class:"mb-4 flex items-start gap-4"},se={class:"shrink-0 rounded-xl bg-gradient-to-br from-orange-50 to-orange-100 p-3 text-orange-600 ring-1 ring-orange-200/50 transition-colors group-hover:from-orange-100 group-hover:to-orange-200"},oe={class:"min-w-0 flex-1"},ae={class:"flex items-start justify-between gap-2"},re={class:"line-clamp-2 text-base leading-tight font-bold text-neutral-800 transition-colors group-hover:text-blue-700"},ne={class:"mt-1 flex items-center gap-1 text-xs font-medium text-neutral-500"},le={key:0,class:"mb-5 rounded-lg border border-neutral-100 bg-neutral-50/50 p-3"},ie={class:"flex flex-wrap gap-1.5"},de={class:"mr-1.5 flex h-4 w-4 items-center justify-center rounded-full bg-blue-100 text-[9px] font-bold text-blue-600"},ue={class:"max-w-[100px] truncate"},me={class:"mt-auto flex flex-col justify-between gap-4 border-t border-neutral-100 pt-4 sm:flex-row sm:items-center"},pe={class:"flex-1"},ge={class:"mb-1.5 flex justify-between text-[11px]"},fe={class:"font-bold text-neutral-700"},ce={class:"h-2 w-full overflow-hidden rounded-full bg-neutral-100"},be={class:"flex items-center justify-end sm:border-l sm:border-neutral-100 sm:pl-4"},xe=$({__name:"TugasItem",props:{item:{}},setup(v){const m=v,s=m.item.persen_submit||50,p=M(()=>{const l=new Date,g=new Date(m.item.deadline).getTime()-l.getTime(),x=Math.ceil(g/(1e3*60*60*24));return x<=3&&x>=0});return(l,u)=>(n(),d("div",ee,[e("div",te,[e("div",se,[c(S,{class:"text-2xl"})]),e("div",oe,[e("div",ae,[e("h1",re,f(l.item.title),1),e("div",{class:j(["shrink-0 rounded-md border px-2.5 py-1 text-[10px] font-bold tracking-wider uppercase",p.value?"border-red-100 bg-red-50 text-red-600":"border-neutral-100 bg-neutral-50 text-neutral-500"])},f(a(A)(l.item.deadline)),3)]),e("p",ne,[u[0]||(u[0]=e("span",{class:"h-1.5 w-1.5 rounded-full bg-neutral-300"},null,-1)),o(" "+f(l.item.nama_matpel),1)])])]),l.item.receiver_type==="siswa_id"&&l.item.receiver_users?.length?(n(),d("div",le,[u[1]||(u[1]=e("p",{class:"mb-2 text-[10px] font-bold tracking-wide text-neutral-400 uppercase"},"Ditugaskan Kepada:",-1)),e("div",ie,[(n(!0),d(y,null,B(l.item.receiver_users,(g,x)=>(n(),d("div",{key:x,class:j(a(N)("inline-flex items-center rounded border border-neutral-200 bg-white px-2 py-1 text-[11px] font-medium text-neutral-600 shadow-sm",g.dikerjakan?"bg-green-500 border-green-600 text-white":"bg-red-500 border-red-600 text-white"))},[e("span",de,f(g.name.charAt(0)),1),e("span",ue,f(g.name)+" "+f(g.id),1)],2))),128))])])):h("",!0),e("div",me,[e("div",pe,[e("div",ge,[u[2]||(u[2]=e("span",{class:"font-medium text-neutral-500"},"Pengumpulan",-1)),e("span",fe,f(a(s))+"%",1)]),e("div",ce,[e("div",{class:"h-full rounded-full bg-gradient-to-r from-green-400 to-emerald-500 transition-all duration-500",style:H({width:a(s)+"%"})},null,4)])]),e("div",be,[w(l.$slots,"buttons",{item:l.item})])])]))}}),ke={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6"},we={class:"flex text-sm space-x-2 items-center"},he={class:"mb-6 bg-white p-4 rounded-xl border border-neutral-200 shadow-sm"},ve={class:"relative w-full md:flex-1"},_e={key:0,class:"w-full md:w-64"},ye={class:"space-y-4"},$e={class:"flex items-center gap-2 mt-4 sm:mt-0 w-full sm:w-auto border-t sm:border-0 pt-3 sm:pt-0 border-neutral-100"},Te=["onClick"],je=["onClick"],Ce=["onClick"],De={class:"font-semibold"},Be={key:0},Ke=$({__name:"ListTugas",setup(v){const m=L(),s=F({kode_matpel:m.props.search_current_terms?.kode_matpel??"",keywords:m.props.search_current_terms?.keywords??""});async function p(){try{s.get(K({kelas_id:m.props.kelas_id}).url,{preserveState:!0})}catch(r){console.log(r)}}function l(){k.visit(P.tambah().url)}function u(r){k.visit(z({id:r}).url)}function g(r){k.visit(E({id:r}).url)}function x(r){confirm("Apakah anda yakin ingin menghapus tugas ini?")&&k.delete(U({id:r}).url)}return(r,t)=>(n(),d(y,null,[e("div",ke,[c(q,{title:"Tugas "+r.$page.props.info_kelas.nama,subtitle:`Kelola tugas untuk kelas ${r.$page.props.info_kelas.nama}`},null,8,["title","subtitle"]),c(C,{onClick:l,variant:"primary",class:"shrink-0 flex items-center gap-2 px-4 py-2 text-sm font-medium shadow-sm hover:shadow-md transition-all"},{default:b(()=>[e("div",we,[c(X,{class:"w-5 h-5"}),t[2]||(t[2]=e("span",null,"Buat Tugas Baru",-1))])]),_:1})]),e("div",he,[e("form",{onSubmit:I(p,["prevent"]),class:"flex flex-col md:flex-row items-center gap-3"},[e("div",ve,[t[3]||(t[3]=e("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),c(J,{placeholder:"Cari judul tugas...",modelValue:a(s).keywords,"onUpdate:modelValue":t[0]||(t[0]=i=>a(s).keywords=i),class:"w-full pl-9 bg-neutral-50 border-neutral-200 focus:bg-white transition-colors"},null,8,["modelValue"])]),r.$page.props.matpels.length>1?(n(),d("div",_e,[c(a(G),{placeholder:"Semua Mata Pelajaran",options:r.$page.props.matpels,label:"nama",index:"kode_matpel",reduce:i=>i.kode_matpel,modelValue:a(s).kode_matpel,"onUpdate:modelValue":t[1]||(t[1]=i=>a(s).kode_matpel=i),class:"v-select-custom"},null,8,["options","reduce","modelValue"])])):h("",!0),c(C,{loading:a(s).processing,type:"submit",variant:"secondary",class:"w-full md:w-auto px-6"},{default:b(()=>t[4]||(t[4]=[o(" Filter ",-1)])),_:1,__:[4]},8,["loading"])],32)]),e("div",ye,[r.$page.props.tugas.length>0?(n(!0),d(y,{key:0},B(r.$page.props.tugas,i=>(n(),_(xe,{key:i.tugasID,item:i},{buttons:b(Ve=>[e("div",$e,[e("button",{onClick:T=>u(i.tugasID),class:"flex-1 sm:flex-none flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"Periksa Jawaban"},t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1),o(" Periksa ",-1)]),8,Te),e("button",{onClick:T=>g(i.tugasID),class:"flex-1 sm:flex-none flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-amber-50 text-amber-600 hover:bg-amber-100 transition-colors",title:"Edit Tugas"},t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),o(" Edit ",-1)]),8,je),e("button",{onClick:T=>x(i.tugasID),class:"flex-1 sm:flex-none flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-red-50 text-red-600 hover:bg-red-100 transition-colors",title:"Hapus Tugas"},t[7]||(t[7]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),o(" Hapus ",-1)]),8,Ce)])]),_:2},1032,["item"]))),128)):a(s).keywords||a(s).kode_matpel?(n(),_(D,{key:1},{title:b(()=>t[8]||(t[8]=[o("Tugas tidak ditemukan",-1)])),description:b(()=>[t[9]||(t[9]=o(' Kami tidak menemukan tugas dengan kata kunci "',-1)),e("span",De,f(a(s).keywords),1),t[10]||(t[10]=o('" ',-1)),a(s).kode_matpel?(n(),d("span",Be," pada mata pelajaran terpilih")):h("",!0),t[11]||(t[11]=o(". ",-1)),t[12]||(t[12]=e("br",null,null,-1)),t[13]||(t[13]=o("Coba gunakan kata kunci lain atau reset filter. ",-1))]),_:1})):(n(),_(D,{key:2},{title:b(()=>t[14]||(t[14]=[o("Belum Ada Tugas",-1)])),description:b(()=>t[15]||(t[15]=[o(" Kelas ini belum memiliki tugas aktif. ",-1),e("br",null,null,-1),o("Klik tombol ",-1),e("span",{class:"font-medium text-neutral-900"},'"Buat Tugas Baru"',-1),o(" di pojok kanan atas untuk memulai. ",-1)])),_:1}))])],64))}});export{Ke as _};
