import{l as g,m as f,c as m,u as _,a as l,o as i,d as e,b,t as s,j as p,F as v,i as w,g as y,y as k,h as d,a1 as j,e as C,a4 as M}from"./app-DupgsIkO.js";import{_ as D}from"./page-title.vue_vue_type_script_setup_true_lang-DcfiYpps.js";const B={class:"min-h-screen pb-24"},L={class:"mx-auto mt-6 max-w-3xl px-4 sm:px-6"},S={class:"mb-8 overflow-hidden rounded-xl border border-gray-100 bg-white shadow-sm"},z={class:"p-5 sm:p-6"},K={class:"mb-4 flex items-start justify-between"},V={class:"flex gap-4"},A={class:"flex-shrink-0"},F={class:"flex h-12 w-12 items-center justify-center rounded-full border-2 border-white bg-blue-100 text-lg font-bold text-blue-600 shadow-sm"},I={class:"text-base leading-tight font-bold text-gray-900"},N={class:"mt-1 flex items-center gap-2"},U={key:0,class:"inline-flex items-center rounded bg-blue-50 px-2 py-0.5 text-xs font-medium text-blue-700"},T={class:"text-xs text-gray-500"},$={class:"prose prose-sm max-w-none leading-relaxed whitespace-pre-wrap text-gray-800"},q={class:"mt-6 flex items-center gap-6 border-t border-gray-50 pt-4 text-sm text-gray-500"},E={class:"flex items-center gap-2"},H={class:"flex items-center gap-2"},J={class:"min-h-[200px] space-y-6 rounded-xl border border-gray-100 bg-white p-6 shadow-sm"},P={key:0,class:"flex flex-col items-center justify-center py-10 text-center"},R={class:"mt-1 flex-shrink-0"},Z={class:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-100 text-xs font-bold text-gray-600 shadow-sm ring-1 ring-white"},G={class:"flex-grow"},O={class:"flex flex-col"},Q={class:"flex items-baseline justify-between"},W={class:"text-sm font-bold text-gray-900"},X={class:"text-[11px] text-gray-400"},Y={class:"mt-1 text-sm leading-relaxed text-gray-700"},ee={class:"fixed bottom-0 left-0 z-30 w-full border-t border-gray-100 bg-white px-4 py-3 shadow-[0_-4px_20px_-5px_rgba(0,0,0,0.05)]"},te={class:"mx-auto flex max-w-3xl items-end gap-3"},se={class:"mb-1 flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-full bg-blue-50 text-xs font-bold text-blue-600"},oe={class:"relative flex-grow"},re=["onKeydown"],ne=["disabled"],de=g({__name:"comment",setup(ae){const c=f(),o=m(()=>c.props.discusion),u=m(()=>c.props.comment?c.props.comment:o.value?.comments?o.value.comments:[]),r=_({discusion_id:o.value.id,text:""}),h=a=>{const t=a.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"},x=()=>{if(!r.text.trim())return;const a=M.postComment({discusion:o.value.id}).url;r.post(a,{preserveScroll:!0,onSuccess:()=>{r.reset("text");const t=document.querySelector("textarea");t&&(t.style.height="auto")}})};return(a,t)=>(i(),l("div",B,[e("div",L,[b(D,{title:"Diskusi",subtitle:"Detail percakapan"}),e("div",S,[e("div",z,[e("div",K,[e("div",V,[e("div",A,[e("div",F,s(o.value.user.name.charAt(0)),1)]),e("div",null,[e("h2",I,s(o.value.user.name),1),e("div",N,[o.value.matpel_kode?(i(),l("span",U,s(o.value.matpel_kode),1)):p("",!0),t[1]||(t[1]=e("span",{class:"text-xs text-gray-400"},"â€¢",-1)),e("span",T,s(new Date(o.value.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})),1)])])])]),e("div",$,s(o.value.description),1),e("div",q,[e("div",E,[t[2]||(t[2]=e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),e("span",null,s(o.value.likes||0)+" Suka",1)]),e("div",H,[t[3]||(t[3]=e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),e("span",null,s(u.value.length)+" Komentar",1)])])])]),t[5]||(t[5]=e("div",{class:"mb-4 flex items-center justify-between"},[e("h3",{class:"text-sm font-bold tracking-wider text-gray-900 uppercase"},"Komentar")],-1)),e("div",J,[u.value.length===0?(i(),l("div",P,t[4]||(t[4]=[e("div",{class:"mb-3 rounded-full bg-gray-50 p-3"},[e("svg",{class:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1),e("p",{class:"text-sm text-gray-500"},"Belum ada komentar. Jadilah yang pertama!",-1)]))):p("",!0),(i(!0),l(v,null,w(u.value,n=>(i(),l("div",{key:n.id,class:"group flex gap-4 transition-all"},[e("div",R,[e("div",Z,s(n.user?.name?.charAt(0)||"?"),1)]),e("div",G,[e("div",O,[e("div",Q,[e("span",W,s(n.user?.name||"User"),1),e("span",X,s(new Date(n.created_at).toLocaleDateString("id-ID",{hour:"2-digit",minute:"2-digit"})),1)]),e("p",Y,s(n.text),1)])])]))),128))])]),e("div",ee,[e("div",te,[e("div",se,s(a.$page.props.auth?.user?.name?.charAt(0)||"U"),1),e("div",oe,[y(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=n=>d(r).text=n),rows:"1",placeholder:"Tulis balasan...",class:"min-h-[46px] w-full resize-none overflow-hidden rounded-2xl border-gray-200 bg-gray-50 py-3 pr-12 pl-4 text-sm text-gray-900 placeholder-gray-500 focus:border-blue-500 focus:bg-white focus:ring-1 focus:ring-blue-500",onInput:h,onKeydown:j(C(x,["prevent"]),["enter"])},null,40,re),[[k,d(r).text]]),e("button",{onClick:x,disabled:d(r).processing||!d(r).text,class:"absolute right-2 bottom-2 rounded-full p-1.5 text-blue-600 transition hover:bg-blue-50 disabled:bg-transparent disabled:text-gray-300"},t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m22 2-7 20-4-9-9-4Z"}),e("path",{d:"M22 2 11 13"})],-1)]),8,ne)])])])]))}});export{de as default};
