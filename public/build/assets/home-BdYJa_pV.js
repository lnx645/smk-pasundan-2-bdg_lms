import{_ as z,a as o,o as l,d as e,L as B,q as V,l as L,m as N,c as k,r as H,aa as K,R as U,j,t as r,I as F,F as $,i as S,b as c,K as h,f as T,h as u,aS as O,O as _,n as D,aM as P}from"./app-DupgsIkO.js";import{M as Q}from"./MaterialSymbolsCheckCircleUnreadOutline-BhR5r4-c.js";import{k as q}from"./index-Vd0_3k97.js";const E={name:"MaterialSymbolsLightAlarm"},J={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function R(a,n,d,x,m,v){return l(),o("svg",J,n[0]||(n[0]=[e("path",{fill:"currentColor",d:"M12 21q-1.664 0-3.118-.626T6.34 18.66t-1.714-2.542T4 13t.626-3.118T6.34 7.34t2.542-1.714T12 5t3.118.626T17.66 7.34t1.714 2.542T20 13t-.626 3.118t-1.714 2.543t-2.542 1.713T12 21m3.146-4.146l.708-.708l-3.354-3.354V8h-1v5.208zM5.908 3.427l.707.707l-3.48 3.481l-.708-.707zm12.184 0l3.481 3.48l-.707.709l-3.481-3.481z"},null,-1)]))}const G=z(E,[["render",R]]),i=(a,n)=>({url:i.url(a,n),method:"get"});i.definition={methods:["get","head"],url:"/siswa/tugas/{id}/kerjakan"};i.url=(a,n)=>{(typeof a=="string"||typeof a=="number")&&(a={id:a}),Array.isArray(a)&&(a={id:a[0]}),a=B(a);const d={id:a.id};return i.definition.url.replace("{id}",d.id.toString()).replace(/\/+$/,"")+V(n)};i.get=(a,n)=>({url:i.url(a,n),method:"get"});i.head=(a,n)=>({url:i.url(a,n),method:"head"});Object.assign(i,q);const W={class:"mx-auto mt-4 max-w-7xl pb-20"},X={class:"grid grid-cols-1 items-start gap-8 lg:grid-cols-12"},Y={class:"space-y-6 lg:col-span-8"},Z={class:"rounded-xl border border-neutral-200 bg-white p-6 shadow-sm"},ee={class:"flex flex-col justify-between gap-4 md:flex-row md:items-center"},te={class:"text-2xl font-bold text-neutral-800"},se={class:"flex items-center gap-3"},ae={class:"rounded border border-neutral-200 bg-neutral-100 px-3 py-1 text-xs font-semibold tracking-wider text-neutral-600 uppercase"},ne={key:0,class:"rounded border border-blue-100 bg-blue-50 px-3 py-1 text-xs font-semibold text-blue-700"},oe={key:0,class:"grid grid-cols-1 gap-4 sm:grid-cols-3"},le={class:"rounded-xl border border-neutral-200 bg-white p-4"},re={class:"mt-1 text-2xl font-bold text-neutral-800"},ie={class:"rounded-xl border border-neutral-200 bg-white p-4"},de={class:"mt-1 text-2xl font-bold text-indigo-600"},ue={key:0,class:"sticky top-6 space-y-6 lg:col-span-4"},ce={class:"overflow-hidden rounded-xl border border-rose-200 bg-white shadow-sm ring-1 ring-rose-100"},pe={key:0,class:"divide-y divide-rose-100"},xe={class:"mb-2 flex items-start justify-between"},me={class:"text-[10px] font-bold tracking-wide text-rose-400 uppercase"},fe={class:"rounded bg-rose-100 px-2 py-0.5 font-mono text-xs font-bold text-rose-600"},ge={class:"mb-3 text-sm font-semibold text-gray-900"},be={key:1,class:"px-6 py-8 text-center"},he={class:"overflow-hidden rounded-xl border border-neutral-200 bg-white shadow-sm"},_e={class:"flex items-center justify-between border-b border-neutral-100 px-5 py-4"},ve={key:0,class:"divide-y divide-neutral-100"},we={class:"pl-2"},ye={class:"mb-1 flex items-start justify-between"},ke={class:"text-[10px] font-bold tracking-wide text-neutral-400 uppercase"},je={class:"text-sm leading-snug font-semibold text-neutral-800 transition-colors group-hover:text-blue-600"},Te={class:"flex items-center justify-between"},Me={class:"flex items-center gap-1.5 text-xs text-neutral-500"},$e={key:1,class:"px-6 py-12 text-center"},Se={class:"mb-3 inline-flex h-12 w-12 items-center justify-center rounded-full bg-neutral-50 text-neutral-300"},Ie=L({__name:"home",setup(a){const n=N(),d=k(()=>n.props.auth.user),x=k(()=>n.props.pending_tugas||[]),m=k(()=>n.props.active_quizzes||[]),v=H(new Date);let w=null;K(()=>{w=setInterval(()=>{v.value=new Date},1e3)}),U(()=>{w&&clearInterval(w)});const C=g=>{const t=new Date(g).getTime(),s=v.value.getTime(),p=t-s;if(p<=0)return"Berakhir";const b=Math.floor(p/(1e3*60*60)),A=Math.floor(p%(1e3*60*60)/(1e3*60)),I=Math.floor(p%(1e3*60)/1e3),y=M=>M.toString().padStart(2,"0");return b>24?`${Math.floor(b/24)} Hari ${b%24} Jam`:`${y(b)}:${y(A)}:${y(I)}`},f=g=>{const t=new Date,s=new Date(g);return Math.ceil((s.getTime()-t.getTime())/(1e3*60*60*24))};return(g,t)=>(l(),o("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("div",null,[e("h2",te,"Halo, "+r(d.value.nama),1),t[0]||(t[0]=e("p",{class:"mt-1 text-sm text-neutral-500"},"Selamat datang kembali di ruang belajar Anda.",-1))]),e("div",se,[e("div",ae,r(d.value.role),1),d.value.kelas?(l(),o("div",ne,r(d.value.kelas.nama),1)):j("",!0)])])]),d.value.role==="siswa"?(l(),o("div",oe,[e("div",le,[t[1]||(t[1]=e("p",{class:"text-xs font-medium text-neutral-400 uppercase"},"Tugas Menunggu",-1)),e("p",re,r(x.value.length),1)]),e("div",ie,[t[2]||(t[2]=e("p",{class:"text-xs font-medium text-neutral-400 uppercase"},"Kuis Aktif",-1)),e("p",de,r(m.value.length),1)])])):j("",!0)]),d.value.role==="siswa"?(l(),o("div",ue,[e("div",ce,[t[5]||(t[5]=F('<div class="flex items-center justify-between border-b border-rose-100 bg-rose-50 px-5 py-3"><h3 class="flex items-center gap-2 font-bold text-rose-800"><span class="relative flex h-3 w-3"><span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-rose-400 opacity-75"></span><span class="relative inline-flex h-3 w-3 rounded-full bg-rose-500"></span></span> Ujian Berlangsung </h3></div>',1)),m.value.length>0?(l(),o("div",pe,[(l(!0),o($,null,S(m.value,s=>(l(),o("div",{key:s.id,class:"p-4 transition-all hover:bg-rose-50/50"},[e("div",xe,[e("span",me,r(s.matpel?.nama),1),e("span",fe,r(C(s.end_date)),1)]),e("h4",ge,r(s.title),1),c(u(_),{href:u(O).show({quiz:s.id}).url,class:"flex w-full items-center justify-center rounded-lg bg-rose-600 px-3 py-2 text-xs font-bold text-white shadow-sm transition hover:bg-rose-700"},{default:h(()=>t[3]||(t[3]=[T(" Kerjakan Sekarang ",-1)])),_:2,__:[3]},1032,["href"])]))),128))])):(l(),o("div",be,t[4]||(t[4]=[e("p",{class:"text-sm text-gray-500"},"Tidak ada ujian yang sedang aktif.",-1)])))]),e("div",he,[e("div",_e,[t[7]||(t[7]=e("h3",{class:"font-bold text-neutral-800"},"Tugas Anda",-1)),c(u(_),{href:"/siswa/tugas",class:"text-xs font-medium text-neutral-400 transition-colors hover:text-neutral-800"},{default:h(()=>t[6]||(t[6]=[T(" Lihat Semua ",-1)])),_:1,__:[6]})]),x.value.length>0?(l(),o("div",ve,[(l(!0),o($,null,S(x.value,s=>(l(),o("div",{key:s.tugasID,class:"group relative p-4 transition-all hover:bg-neutral-50"},[e("div",{class:D(["absolute top-0 bottom-0 left-0 w-[3px]",f(s.deadline)<=1?"bg-orange-500":"bg-transparent group-hover:bg-blue-500"])},null,2),e("div",we,[e("div",ye,[e("span",ke,r(s.matpel?.nama),1),e("span",{class:D(["text-[10px] font-medium",f(s.deadline)<=1?"text-orange-600":"text-neutral-400"])},r(f(s.deadline)<=0?"Hari Ini":f(s.deadline)+" hari lagi"),3)]),c(u(_),{href:u(i)({id:s.tugasID}),class:"mb-2 block"},{default:h(()=>[e("h4",je,r(s.title),1)]),_:2},1032,["href"]),e("div",Te,[e("div",Me,[c(G,{class:"h-3 w-3 text-neutral-400"}),e("span",null,r(u(P)(s.deadline)),1)]),c(u(_),{href:u(i)({id:s.tugasID}),class:"text-xs font-semibold text-blue-600 opacity-0 transition-opacity group-hover:opacity-100 hover:underline"},{default:h(()=>t[8]||(t[8]=[T(" Kerjakan â†’ ",-1)])),_:2,__:[8]},1032,["href"])])])]))),128))])):(l(),o("div",$e,[e("div",Se,[c(Q,{class:"text-2xl"})]),t[9]||(t[9]=e("p",{class:"text-sm font-semibold text-neutral-900"},"Tidak ada tagihan tugas",-1)),t[10]||(t[10]=e("p",{class:"mt-1 text-xs text-neutral-500"},"Anda bisa bersantai sejenak.",-1))]))])])):j("",!0)])]))}});export{Ie as default};
