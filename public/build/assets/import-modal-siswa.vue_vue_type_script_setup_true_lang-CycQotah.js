import{m as b,u as y,b as d,o as m,e,d as l,i as s,g as i,O as c,k as v,n as h,t as n,C as a}from"./app-6R2423CB.js";import{X as w}from"./x-BxVaUl50.js";import{F as k,U as _}from"./upload-BWBF1Y02.js";import{D as C}from"./download-Cz3PQfCg.js";const S={class:"p-6"},F={class:"flex items-center justify-between mb-6"},B={class:"space-y-6"},D={class:"rounded-lg bg-green-50 p-4 border border-green-100"},E={class:"flex items-start gap-3"},j=["href"],M={class:"space-y-1 text-center"},N={class:"flex text-sm text-gray-600 justify-center"},P={class:"relative cursor-pointer rounded-md font-medium text-green-600 hover:text-green-500 focus-within:outline-none"},T={key:0,class:"mt-2 p-2 rounded bg-red-50 text-xs text-red-600 border border-red-100"},U={class:"flex justify-end gap-3 pt-2"},V=["disabled"],z=b({__name:"import-modal-siswa",emits:["close"],setup($,{emit:p}){const x=p,o=y({file:null}),g=r=>{const t=r.target;t.files&&t.files[0]&&(o.file=t.files[0])},u=()=>{if(!o.file)return a.error("Pilih file excel terlebih dahulu");o.post(c.importSiswa().url,{onSuccess:()=>{a.success("Import Data Siswa Berhasil!"),x("close"),o.reset()},onError:r=>{a.error(r.message||"Gagal import data. Periksa format file.")}})};return(r,t)=>(m(),d("div",S,[e("div",F,[t[2]||(t[2]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Import Siswa dari Excel",-1)),e("button",{onClick:t[0]||(t[0]=f=>r.$emit("close")),class:"text-gray-400 hover:text-gray-500 transition-colors"},[l(s(w),{class:"h-5 w-5"})])]),e("div",B,[e("div",D,[e("div",E,[l(s(k),{class:"h-5 w-5 text-green-600 mt-0.5"}),e("div",null,[t[4]||(t[4]=e("h4",{class:"text-sm font-semibold text-green-900"},"1. Download Template",-1)),t[5]||(t[5]=e("p",{class:"text-xs text-green-700 mt-1"},[i(" Gunakan template ini. Pastikan "),e("b",null,"Nama Kelas"),i(" sesuai dengan data di sistem. ")],-1)),e("a",{href:s(c).downloadTemplateSiswa().url,class:"mt-2 inline-flex items-center gap-2 text-xs font-medium text-green-700 hover:text-green-800 hover:underline"},[l(s(C),{class:"h-3.5 w-3.5"}),t[3]||(t[3]=i(" Download Template .XLSX ",-1))],8,j)])])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"2. Upload File Excel",-1)),e("div",{class:h(["mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-green-400 transition-colors",{"border-green-500 bg-green-50":s(o).file}])},[e("div",M,[l(s(_),{class:"mx-auto h-12 w-12 text-gray-400"}),e("div",N,[e("label",P,[e("span",null,n(s(o).file?s(o).file.name:"Klik untuk Pilih File Excel"),1),e("input",{type:"file",class:"sr-only",accept:".xlsx, .xls, .csv",onChange:g},null,32)])]),t[6]||(t[6]=e("p",{class:"text-xs text-gray-500"},"Format: .xlsx, .xls, .csv (Maks 2MB)",-1))])],2),s(o).errors?.file?(m(),d("div",T,[t[7]||(t[7]=e("span",{class:"font-bold"},"Error:",-1)),i(" "+n(s(o).errors?.file),1)])):v("",!0)]),e("div",U,[e("button",{onClick:t[1]||(t[1]=f=>r.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"}," Batal "),e("button",{onClick:u,disabled:s(o).processing||!s(o).file,class:"inline-flex items-center justify-center gap-2 rounded-lg bg-green-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},n(s(o).processing?"Sedang Mengimport...":"Mulai Import"),9,V)])])]))}});export{z as _};
