import{m as f,u as g,b as n,o as d,e,d as i,i as s,O as m,g as b,k as h,n as v,t as r,C as a}from"./app-6R2423CB.js";import{X as y}from"./x-BxVaUl50.js";import{F as _,U as w}from"./upload-BWBF1Y02.js";import{D as C}from"./download-Cz3PQfCg.js";const S={class:"p-6"},k={class:"flex items-center justify-between mb-6"},V={class:"space-y-6"},F={class:"rounded-lg bg-blue-50 p-4 border border-blue-100"},j={class:"flex items-start gap-3"},B=["href"],D={class:"space-y-1 text-center"},E={class:"flex text-sm text-gray-600 justify-center"},G={class:"relative cursor-pointer rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none"},M={key:0,class:"mt-2 text-xs text-red-600"},N={class:"flex justify-end pt-2"},T=["disabled"],z=f({__name:"import-modal",emits:["close"],setup(U,{emit:u}){const c=u,o=g({file:null}),x=l=>{const t=l.target;t.files&&(o.file=t.files[0])},p=()=>{if(!o.file)return a.error("Pilih file excel terlebih dahulu");o.post(m.importGuru().url,{onSuccess:()=>{a.success("Import Berhasil!"),c("close")},onError:l=>{a.error(l.message||"Gagal import data")}})};return(l,t)=>(d(),n("div",S,[e("div",k,[t[1]||(t[1]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Import Guru dari Excel",-1)),e("button",{onClick:t[0]||(t[0]=X=>l.$emit("close")),class:"text-gray-400 hover:text-gray-500"},[i(s(y),{class:"h-5 w-5"})])]),e("div",V,[e("div",F,[e("div",j,[i(s(_),{class:"h-5 w-5 text-blue-600 mt-0.5"}),e("div",null,[t[3]||(t[3]=e("h4",{class:"text-sm font-semibold text-blue-900"},"1. Download Template",-1)),t[4]||(t[4]=e("p",{class:"text-xs text-blue-700 mt-1"},"Gunakan template ini agar format data sesuai sistem.",-1)),e("a",{href:s(m).downloadTemplateGuru().url,class:"mt-2 inline-flex items-center gap-2 text-xs font-medium text-blue-700 hover:text-blue-800 hover:underline"},[i(s(C),{class:"h-3.5 w-3.5"}),t[2]||(t[2]=b(" Download Template .CSV ",-1))],8,B)])])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"2. Upload File Excel/CSV",-1)),e("div",{class:v(["mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-indigo-400 transition-colors",{"border-indigo-500 bg-indigo-50":s(o).file}])},[e("div",D,[i(s(w),{class:"mx-auto h-12 w-12 text-gray-400"}),e("div",E,[e("label",G,[e("span",null,r(s(o).file?s(o).file.name:"Pilih File Excel"),1),e("input",{type:"file",class:"sr-only",accept:".xlsx, .xls, .csv",onChange:x},null,32)])]),t[5]||(t[5]=e("p",{class:"text-xs text-gray-500"},"XLSX, XLS, atau CSV (Max 2MB)",-1))])],2),s(o).errors?.message?(d(),n("div",M,r(s(o).errors?.message),1)):h("",!0)]),e("div",N,[e("button",{onClick:p,disabled:s(o).processing||!s(o).file,class:"inline-flex items-center justify-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},r(s(o).processing?"Sedang Mengimport...":"Mulai Import"),9,T)])])]))}});export{z as _};
