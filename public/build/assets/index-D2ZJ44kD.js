import{u as B,a as r,o as i,d as t,b as y,K as m,h as n,O as _,t as d,f as V,e as M,g as x,y as p,F as b,i as f,j as h,n as g,z as O}from"./app-DupgsIkO.js";import{G as v}from"./GuruQuizQuestionController-BrkfHKwz.js";const T={class:"mt-7 min-h-screen bg-gray-50 pb-12 font-sans text-sm text-gray-800"},K={class:"sticky top-0 z-50 border-b border-gray-200 bg-white px-4 py-2 shadow-sm"},N={class:"mx-auto flex max-w-7xl items-center justify-between"},U={class:"flex items-center gap-3"},$={class:"leading-none font-bold text-gray-900"},A={class:"text-xs text-gray-500"},F={class:"mx-auto grid max-w-7xl grid-cols-1 gap-4 px-4 py-4 lg:grid-cols-12"},L={class:"lg:col-span-5"},Q={class:"rounded-xl border border-gray-300 bg-white shadow-sm"},D={class:"mb-3"},E={class:"mb-4 flex items-center gap-2"},G={class:"mb-4 space-y-2"},H=["onClick"],P=["onUpdate:modelValue","placeholder"],I=["onClick"],J={class:"flex items-center justify-between pt-2"},R=["disabled"],W={key:0},X={key:1},Y={class:"space-y-3 lg:col-span-7"},Z={key:0,class:"rounded-xl border border-dashed border-gray-300 bg-white p-8 text-center text-gray-400"},tt={class:"flex gap-3"},et={class:"flex h-6 w-6 flex-none items-center justify-center rounded bg-gray-100 text-xs font-bold text-gray-600"},ot={class:"w-full"},st={class:"flex items-start justify-between"},rt={class:"text-sm font-semibold text-gray-900"},it=["onClick"],nt={class:"mt-2 grid grid-cols-2 gap-2"},dt={__name:"index",props:{quiz:Object,questions:Array},setup(c){const w=c,o=B({question_text:"",points:5,options:[{option_text:"",is_correct:!1},{option_text:"",is_correct:!1},{option_text:"",is_correct:!1},{option_text:"",is_correct:!1}]}),k=()=>{o.options.length<5&&o.options.push({option_text:"",is_correct:!1})},C=a=>{o.options.length>2&&o.options.splice(a,1)},q=a=>{o.options.forEach(e=>e.is_correct=!1),o.options[a].is_correct=!0},j=()=>{if(!o.options.some(a=>a.is_correct)){alert("Pilih kunci jawaban (Klik huruf)!");return}o.post(v.store({quiz:w.quiz.id}).url,{preserveScroll:!0,onSuccess:()=>{o.reset(),o.options=[{option_text:"",is_correct:!1},{option_text:"",is_correct:!1},{option_text:"",is_correct:!1},{option_text:"",is_correct:!1}]}})},S=a=>{confirm("Hapus soal ini?")&&O.delete(v.destroy({question:a}).url,{preserveScroll:!0})};return(a,e)=>(i(),r("div",T,[t("div",K,[t("div",N,[t("div",U,[y(n(_),{href:"/guru/quiz",class:"rounded p-1 text-gray-500 hover:bg-gray-100"},{default:m(()=>e[2]||(e[2]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])),_:1,__:[2]}),t("div",null,[t("h1",$,d(c.quiz.title),1),t("span",A,"KKM: "+d(c.quiz.passing_grade)+" â€¢ Total Soal: "+d(c.questions.length),1)])]),y(n(_),{href:"/guru/quiz",class:"rounded-lg bg-gray-900 px-4 py-1.5 text-xs font-bold text-white transition hover:bg-gray-800"},{default:m(()=>e[3]||(e[3]=[V(" Selesai ",-1)])),_:1,__:[3]})])]),t("div",F,[t("div",L,[t("div",Q,[e[7]||(e[7]=t("div",{class:"border-b border-gray-100 bg-gray-50/50 px-4 py-2"},[t("h2",{class:"text-xs font-bold tracking-wider text-gray-500 uppercase"},"Input Soal Baru")],-1)),t("form",{onSubmit:M(j,["prevent"]),class:"p-4"},[t("div",D,[x(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>n(o).question_text=s),rows:"2",class:"block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm font-medium text-gray-900 placeholder-gray-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 focus:outline-none",placeholder:"Tulis pertanyaan...",required:""},null,512),[[p,n(o).question_text]])]),t("div",E,[e[4]||(e[4]=t("label",{class:"text-xs font-bold text-gray-500"},"Bobot:",-1)),x(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>n(o).points=s),type:"number",class:"w-16 rounded-md border border-gray-300 px-2 py-1 text-center text-sm font-bold focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"},null,512),[[p,n(o).points]]),e[5]||(e[5]=t("span",{class:"text-xs text-gray-400"},"Poin",-1))]),t("div",G,[(i(!0),r(b,null,f(n(o).options,(s,u)=>(i(),r("div",{key:u,class:"flex items-center gap-2"},[t("button",{type:"button",onClick:l=>q(u),class:g(["flex h-8 w-8 flex-none items-center justify-center rounded border-b-2 text-xs font-black transition-all active:translate-y-[2px] active:border-b-0",s.is_correct?"border-indigo-700 bg-indigo-600 text-white":"border-gray-300 bg-white text-gray-400 hover:bg-gray-50"])},d(String.fromCharCode(65+u)),11,H),x(t("input",{type:"text","onUpdate:modelValue":l=>s.option_text=l,class:g(["block w-full rounded-md border px-3 py-1.5 text-sm transition-colors focus:ring-1 focus:outline-none",s.is_correct?"border-indigo-300 bg-indigo-50 text-indigo-900 focus:border-indigo-500 focus:ring-indigo-500":"border-gray-300 bg-white text-gray-900 focus:border-indigo-500 focus:ring-indigo-500"]),placeholder:`Opsi ${String.fromCharCode(65+u)}`,required:""},null,10,P),[[p,s.option_text]]),n(o).options.length>2?(i(),r("button",{key:0,type:"button",onClick:l=>C(u),class:"text-gray-300 hover:text-red-500"},e[6]||(e[6]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,I)):h("",!0)]))),128))]),t("div",J,[n(o).options.length<5?(i(),r("button",{key:0,type:"button",onClick:k,class:"text-xs font-bold text-indigo-600 hover:text-indigo-800"}," + Tambah Opsi ")):h("",!0),t("button",{type:"submit",disabled:n(o).processing,class:"rounded-lg bg-gray-900 px-6 py-2 text-xs font-bold text-white shadow hover:bg-gray-800 disabled:opacity-50"},[n(o).processing?(i(),r("span",W,"...")):(i(),r("span",X,"Simpan"))],8,R)])],32)])]),t("div",Y,[c.questions.length===0?(i(),r("div",Z,e[8]||(e[8]=[t("p",{class:"text-xs"},"Belum ada soal.",-1)]))):h("",!0),(i(!0),r(b,null,f(c.questions,(s,u)=>(i(),r("div",{key:s.id,class:"group relative rounded-xl border border-gray-200 bg-white p-3 shadow-sm transition-all hover:border-indigo-300"},[t("div",tt,[t("span",et,d(c.questions.length-u),1),t("div",ot,[t("div",st,[t("h3",rt,d(s.question_text),1),t("button",{onClick:l=>S(s.id),class:"ml-2 text-gray-300 hover:text-red-500"},e[9]||(e[9]=[t("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,it)]),t("div",nt,[(i(!0),r(b,null,f(s.options,(l,z)=>(i(),r("div",{key:l.id,class:"flex items-center gap-2 text-xs text-gray-600"},[t("span",{class:g(["flex h-4 w-4 flex-none items-center justify-center rounded border text-[10px] font-bold",l.is_correct?"border-green-600 bg-green-500 text-white":"border-gray-200 bg-white text-gray-400"])},d(String.fromCharCode(65+z)),3),t("span",{class:g([{"font-bold text-green-700":l.is_correct},"truncate"])},d(l.option_text),3)]))),128))])])])]))),128))])])]))}};export{dt as default};
