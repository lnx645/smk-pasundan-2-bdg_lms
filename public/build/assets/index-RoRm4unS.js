import{y as P,m as S,c as f,p as I,r as c,w as N,A as v,O as x,b as n,o as l,e,d as a,i as o,L as h,P as T,h as O,z as U,k as B,F as E,j as G,t as r,B as V,n as b,g as z,_ as D}from"./app-6R2423CB.js";import{_ as F}from"./breadcrumb.vue_vue_type_script_setup_true_lang-DduX5xEt.js";import{_ as L}from"./paging.vue_vue_type_script_setup_true_lang-DlDgU27J.js";import{_ as w}from"./modal.vue_vue_type_script_setup_true_lang-DWsBOydd.js";import{l as A}from"./lodash-CvLQx7ah.js";import{e as K}from"./avatar.esm-Bt11miEG.js";import{_ as q}from"./penugasan-guru.vue_vue_type_script_setup_true_lang-DPI9Ap7G.js";import{_ as H}from"./import-modal.vue_vue_type_script_setup_true_lang-Blqnwg7u.js";import{F as J}from"./upload-BWBF1Y02.js";import{P as Q}from"./plus-BT25xviA.js";import{S as R,T as W}from"./trash-2-CVuvbtt_.js";import{P as X}from"./pencil-BzU3Ty20.js";import"./x-BxVaUl50.js";import"./save-BklBu0eK.js";import"./download-Cz3PQfCg.js";/**
 * @license lucide-vue-next v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=P("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Z={class:"relative min-h-screen w-full bg-gray-50/50 pb-12 font-sans"},ee={class:"mb-8 flex flex-col justify-between gap-4 px-1 sm:flex-row sm:items-end"},te={class:"flex flex-col gap-2 sm:flex-row"},se={class:"mx-3 rounded-xl border border-gray-200 bg-white shadow-sm"},ae={class:"border-b border-gray-100 px-5 py-4"},oe={class:"relative max-w-md"},ne={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},le={class:"overflow-x-auto"},re={class:"w-full text-left text-sm whitespace-nowrap"},ie={class:"divide-y divide-gray-100 bg-white"},de={class:"px-6 py-4"},ce={class:"flex items-center gap-4"},ue={class:"relative h-10 w-10 flex-shrink-0 overflow-hidden rounded-full shadow-sm ring-2 ring-white"},pe={class:"font-monospace"},me={class:"font-semibold text-gray-900"},ge={class:"text-xs text-gray-500"},fe={class:"px-6 py-4 font-mono text-gray-600"},xe={class:"px-6 py-4"},he=["onClick"],_e={class:"flex h-5 w-5 items-center justify-center rounded-full bg-indigo-50 text-indigo-600"},ye={class:"px-6 py-4 text-gray-600"},ve={key:0},be={key:1,class:"text-gray-400 italic"},we={class:"px-6 py-4 text-center"},ke={class:"px-6 py-4 text-right"},Ce={class:"flex justify-end gap-1 opacity-60 transition-opacity group-hover:opacity-100"},$e=["onClick"],je={class:"rounded-lg p-2 text-gray-400 hover:bg-red-50 hover:text-red-600"},Me={key:0},Pe={class:"border-t border-gray-100 bg-gray-50/50 px-6 py-4"},Se=S({__name:"index",props:{users:{},filters:{}},setup(k){const u=k;f(()=>I().props);const _=f(()=>u.users?.data||[]),C=f(()=>u.users?.links||[]),$=[{label:"Dashboard"},{label:"Manajemen Guru"}],p=c(u.filters?.search||""),m=c(!1),i=c(!1),g=c(null),j=d=>{g.value=d,m.value=!0},y=()=>{m.value=!1,setTimeout(()=>{g.value=null},200)};return N(p,A.debounce(d=>{v.get(x.guru().url,{search:d},{preserveState:!0,preserveScroll:!0,replace:!0})},300)),(d,s)=>(l(),n("div",Z,[e("div",ee,[a(F,{items:$}),e("div",te,[e("button",{onClick:s[0]||(s[0]=t=>i.value=!0),class:"inline-flex items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-5 py-2.5 text-sm font-semibold text-gray-700 shadow-sm transition-all hover:bg-gray-50"},[a(o(J),{class:"h-4 w-4 text-green-600"}),s[4]||(s[4]=e("span",null,"Import Excel",-1))]),a(o(T),{href:o(x).tambahGuru(),class:"inline-flex items-center justify-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:bg-indigo-700"},{default:h(()=>[a(o(Q),{class:"h-4 w-4"}),s[5]||(s[5]=e("span",null,"Tambah Guru",-1))]),_:1,__:[5]},8,["href"])])]),e("div",se,[e("div",ae,[e("div",oe,[e("div",ne,[a(o(R),{class:"h-4 w-4 text-gray-400"})]),O(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>p.value=t),type:"text",class:"block w-full rounded-lg border-0 bg-gray-50 py-2.5 pl-10 text-sm ring-1 ring-gray-200 ring-inset focus:ring-2 focus:ring-indigo-600",placeholder:"Cari Nama / NIP / Email..."},null,512),[[U,p.value]])])]),e("div",le,[e("table",re,[s[7]||(s[7]=e("thead",{class:"bg-gray-50/50 text-gray-500"},[e("tr",null,[e("th",{class:"px-6 py-4 font-medium"},"Informasi Guru"),e("th",{class:"px-6 py-4 font-medium"},"NIP"),e("th",{class:"px-6 py-4 font-medium"},"Penugasan"),e("th",{class:"px-6 py-4 font-medium"},"Keahlian Utama"),e("th",{class:"px-6 py-4 text-center font-medium"},"Status"),e("th",{class:"px-6 py-4 text-right font-medium"},"Aksi")])],-1)),e("tbody",ie,[(l(!0),n(E,null,G(_.value,t=>(l(),n("tr",{key:t.id,class:"group transition-colors hover:bg-gray-50/60"},[e("td",de,[e("div",ce,[e("div",ue,[a(o(K),{imageSrc:t.guru?.foto,name:t.nama||t.name,class:"h-full w-full object-cover"},null,8,["imageSrc","name"])]),e("div",pe,[e("div",me,r(t.nama||t.name),1),e("div",ge,r(t.email),1)])])]),e("td",fe,r(t.guru?.nip||"-"),1),e("td",xe,[e("div",null,[e("button",{onClick:M=>j(t),class:"inline-flex items-center gap-2 rounded-full border border-gray-200 bg-white py-1.5 pr-3 pl-2 text-xs font-medium text-gray-700 shadow-sm transition-all hover:border-indigo-300 hover:text-indigo-600"},[e("div",_e,[a(o(V),{class:"h-3 w-3"})]),e("span",null,r(t.guru?.pengajarans?.length||0)+" Kelas Diampu",1),a(o(Y),{class:"h-3 w-3 text-gray-400"})],8,he)])]),e("td",ye,[t.guru?.spesialis_matpel?(l(),n("span",ve,r(t.guru.spesialis_matpel.nama),1)):(l(),n("span",be,"-"))]),e("td",we,[e("span",{class:b(["inline-flex items-center gap-1.5 rounded-full px-2.5 py-1 text-xs font-medium capitalize ring-1 ring-inset",t.guru?.status=="aktif"?"bg-emerald-50 text-emerald-700 ring-emerald-600/20":"bg-red-50 text-red-700 ring-red-600/10"])},[e("span",{class:b(["h-1.5 w-1.5 rounded-full",t.guru?.status==="aktif"?"bg-emerald-500":"bg-red-500"])},null,2),z(" "+r(t.guru?.status),1)],2)]),e("td",ke,[e("div",Ce,[e("button",{onClick:M=>o(v).visit(o(x).updateGuru({id:t.guru.nip}).url),class:"rounded-lg p-2 text-gray-400 hover:bg-indigo-50 hover:text-indigo-600"},[a(o(X),{class:"h-4 w-4"})],8,$e),e("button",je,[a(o(W),{class:"h-4 w-4"})])])])]))),128)),_.value.length===0?(l(),n("tr",Me,s[6]||(s[6]=[e("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500"},"Tidak ada data guru ditemukan.",-1)]))):B("",!0)])])]),e("div",Pe,[a(L,{links:C.value},null,8,["links"])])]),a(w,{isOpen:m.value,onClose:y},{default:h(()=>[a(q,{onCloseModal:y,selectedUser:g.value},null,8,["selectedUser"])]),_:1},8,["isOpen"]),a(w,{isOpen:i.value,onClose:s[3]||(s[3]=t=>i.value=!1)},{default:h(()=>[a(H,{onClose:s[2]||(s[2]=t=>i.value=!1)})]),_:1},8,["isOpen"])]))}}),qe=D(Se,[["__scopeId","data-v-e53cf638"]]);export{qe as default};
