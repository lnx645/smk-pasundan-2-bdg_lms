import{_ as y,a,o as l,d as e,l as z,m as V,c as m,aZ as C,u as J,r as S,t as r,j as g,n as v,b as d,f as h,h as u,aM as q,F as A,i as N,g as R,y as U,e as w,A as M,z as E,a_ as G}from"./app-DupgsIkO.js";import{I as K}from"./IcBaselineDelete-ZhuJckgu.js";import{M as D}from"./MaterialSymbolsCheckCircleUnreadOutline-BhR5r4-c.js";import{a as O}from"./index-Vd0_3k97.js";const Q={name:"MaterialSymbolsLightDriveFolderUploadRounded"},Z={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function W(j,i,s,n,x,f){return l(),a("svg",Z,i[0]||(i[0]=[e("path",{fill:"currentColor",d:"M4.616 19q-.691 0-1.153-.462T3 17.384V6.616q0-.691.463-1.153T4.615 5h4.31q.323 0 .628.13q.305.132.522.349L11.596 7h7.789q.69 0 1.153.463T21 8.616v8.769q0 .69-.462 1.153T19.385 19zM12 16.23q.214 0 .357-.142t.143-.357v-4.2l1.766 1.765q.14.14.343.15t.364-.15t.16-.354t-.16-.353l-2.408-2.408q-.242-.242-.565-.242t-.566.242L9.066 12.55q-.141.14-.15.344t.15.364t.353.16t.354-.16L11.5 11.53v4.2q0 .213.143.357t.357.143"},null,-1)]))}const B=y(Q,[["render",W]]),X={name:"SolarDocumentAddBold"},Y={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function ee(j,i,s,n,x,f){return l(),a("svg",Y,i[0]||(i[0]=[e("path",{fill:"currentColor",d:"M16.519 16.501c.175-.136.334-.295.651-.612l3.957-3.958c.096-.095.052-.26-.075-.305a4.3 4.3 0 0 1-1.644-1.034a4.3 4.3 0 0 1-1.034-1.644c-.045-.127-.21-.171-.305-.075L14.11 12.83c-.317.317-.476.476-.612.651q-.243.311-.412.666c-.095.2-.166.414-.308.84l-.184.55l-.292.875l-.273.82a.584.584 0 0 0 .738.738l.82-.273l.875-.292l.55-.184c.426-.142.64-.212.84-.308q.355-.17.666-.412m5.849-5.809a2.163 2.163 0 1 0-3.06-3.059l-.126.128a.52.52 0 0 0-.148.465c.02.107.055.265.12.452c.13.375.376.867.839 1.33s.955.709 1.33.839c.188.065.345.1.452.12a.53.53 0 0 0 .465-.148z"},null,-1),e("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.172 3.172C3 4.343 3 6.229 3 10v4c0 3.771 0 5.657 1.172 6.828S7.229 22 11 22h2c3.771 0 5.657 0 6.828-1.172C20.981 19.676 21 17.832 21 14.18l-2.818 2.818c-.27.27-.491.491-.74.686a5 5 0 0 1-.944.583a8 8 0 0 1-.944.355l-2.312.771a2.083 2.083 0 0 1-2.635-2.635l.274-.82l.475-1.426l.021-.066c.121-.362.22-.658.356-.944q.24-.504.583-.943c.195-.25.416-.47.686-.74l4.006-4.007L18.12 6.7l.127-.127A3.65 3.65 0 0 1 20.838 5.5c-.151-1.03-.444-1.763-1.01-2.328C18.657 2 16.771 2 13 2h-2C7.229 2 5.343 2 4.172 3.172M7.25 9A.75.75 0 0 1 8 8.25h6.5a.75.75 0 0 1 0 1.5H8A.75.75 0 0 1 7.25 9m0 4a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75m0 4a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1-.75-.75",clipRule:"evenodd"},null,-1)]))}const $=y(X,[["render",ee]]),te={name:"StreamlinePlumpEmailAttachmentDocumentSolid"},ae={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48"};function le(j,i,s,n,x,f){return l(),a("svg",ae,i[0]||(i[0]=[e("path",{fill:"currentColor",d:"M46.5 23c0-2.018-.024-3.847-.066-5.5c-.704 0-1.592-.002-2.56-.012c-2.27-.023-5.043-.088-6.867-.263c-3.333-.32-5.924-2.976-6.245-6.325c-.175-1.825-.236-4.575-.254-6.823c-.008-.962-.009-1.845-.006-2.542Q28.862 1.501 27 1.5c-6.315 0-10.674.323-13.418.637c-2.895.33-5.093 2.531-5.413 5.431c-.207 1.875-.42 4.537-.549 8.168A13.3 13.3 0 0 1 12 15c6.958 0 13 5.44 13 12.636v8.728c0 3.117-1.133 5.905-2.984 8.063q2.254.071 4.984.073c6.315 0 10.674-.323 13.418-.637c2.896-.33 5.094-2.531 5.414-5.431c.325-2.954.668-7.861.668-15.432"},null,-1),e("path",{fill:"currentColor",d:"M33.508 4.052c.018 2.255.079 4.883.24 6.562c.188 1.958 1.683 3.446 3.546 3.625c1.68.161 4.333.226 6.61.25c.803.008 1.55.01 2.182.011c-.594-1.394-2.033-3.944-5.433-7.277c-3.203-3.14-5.694-4.571-7.152-5.21c-.001.598 0 1.295.007 2.04"},null,-1),e("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.792 18.833A10.76 10.76 0 0 1 12 17.5c5.688 0 10.5 4.43 10.5 10.136v8.728C22.5 42.07 17.688 46.5 12 46.5S1.5 42.07 1.5 36.364v-4.768c0-3.676 3.087-6.46 6.648-6.46s6.648 2.784 6.648 6.46v4.677a2.5 2.5 0 0 1-5 0v-4.677c0-.698-.627-1.46-1.648-1.46s-1.648.762-1.648 1.46v4.768c0 2.728 2.352 5.136 5.5 5.136s5.5-2.408 5.5-5.136v-8.728c0-2.728-2.352-5.136-5.5-5.136c-1.028 0-1.98.262-2.792.71a2.5 2.5 0 0 1-2.416-4.377",clipRule:"evenodd"},null,-1)]))}const se=y(te,[["render",le]]),ne={class:"mx-auto mt-4 max-w-7xl px-4 pb-20 sm:px-6"},re={class:"mb-6 border-b border-neutral-200 pb-6"},oe={class:"flex flex-col justify-between gap-4 md:flex-row md:items-start"},ie={class:"mb-2 flex items-center gap-2 text-sm text-neutral-500"},de={class:"font-semibold tracking-wider text-blue-600 uppercase"},ue={class:"text-3xl font-extrabold tracking-tight text-neutral-900"},ce={class:"flex flex-col items-end gap-2"},be={key:1,class:"flex items-center gap-2 rounded-full border border-blue-200 bg-blue-50 px-4 py-1.5 text-sm font-bold text-blue-700"},pe={key:2,class:"rounded-full border border-red-200 bg-red-50 px-4 py-1.5 text-sm font-bold text-red-600"},xe={class:"text-xs font-medium text-neutral-400"},me={class:"grid grid-cols-1 items-start gap-6 lg:grid-cols-12"},ge={class:"space-y-5 lg:col-span-8"},fe={class:"rounded-2xl border border-neutral-200 bg-white p-5 shadow-sm transition-all hover:shadow-md"},ve={class:"mb-4 flex items-center justify-between border-b border-neutral-50 pb-3"},he={class:"flex items-center gap-2 text-[11px] font-bold tracking-widest text-neutral-400 uppercase"},_e={class:"text-[10px] font-medium text-neutral-400 italic"},ke=["innerHTML"],we={key:0},ye={class:"grid grid-cols-1 gap-3 sm:grid-cols-2"},je=["href"],Ce={class:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-blue-100 text-blue-600 shadow-sm transition-all group-hover:bg-blue-600 group-hover:text-white"},Me={class:"overflow-hidden"},De={class:"truncate text-xs font-bold text-neutral-800"},$e={class:"sticky top-6 space-y-4 lg:col-span-4"},Te={class:"overflow-hidden rounded-2xl border border-neutral-200 bg-white shadow-xl shadow-neutral-200/40"},Se={class:"flex items-center justify-between bg-primary px-5 py-3 text-white"},qe={class:"rounded bg-blue-500/20 px-2 py-0.5 text-[9px] font-black text-blue-300 uppercase ring-1 ring-blue-500/30"},Ae={class:"mb-4 flex items-center justify-center gap-4"},Be={class:"text-left"},Le={class:"text-[11px] leading-tight text-neutral-500 italic"},Fe={class:"mt-4 rounded-xl bg-white/60 p-3 ring-1 ring-black/5 backdrop-blur-sm"},He=["href"],Ie={key:1,class:"px-2 text-xs text-neutral-700 italic"},Pe={key:1,class:"p-6 text-center"},ze={class:"mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full bg-emerald-50 text-emerald-500 ring-4 ring-emerald-50/50"},Ve={class:"mt-1 text-[10px] text-neutral-400 italic"},Je={key:0,class:"mt-5"},Ne={key:2,class:"space-y-4 p-5"},Re={key:0,class:"flex items-center gap-3 rounded-xl bg-rose-50 p-3 ring-1 ring-rose-100"},Ue={key:1},Ee={key:2},Ge=["accept"],Ke={key:0,class:"space-y-1"},Oe={key:1,class:"flex items-center justify-between rounded-lg bg-white p-2 shadow-sm ring-1 ring-black/5"},Qe={class:"flex items-center gap-2 overflow-hidden px-1"},Ze={class:"truncate text-left"},We={class:"truncate text-[10px] font-bold text-neutral-800"},Xe={class:"font-mono text-[9px] text-neutral-400"},Ye=["disabled"],et={key:0,class:"flex items-center gap-2"},tt=z({__name:"kerjakan",setup(j){const i=V(),s=m(()=>i.props.tugas),n=m(()=>i.props.submission),x=m(()=>C().isAfter(C(s.value.deadline))),f=m(()=>!!n.value),T=m(()=>n.value?.nilai!==null&&n.value?.nilai!==void 0),p=m(()=>{const c=n.value?.nilai?.angka||0;return c>=85?{bg:"bg-emerald-50 border-emerald-200",circle:"bg-emerald-100 text-emerald-600 border-emerald-200",text:"text-emerald-700",judul:"Luar Biasa!",feedback:"Hasil yang sangat memuaskan, pertahankan prestasimu!"}:c>=75?{bg:"bg-blue-50 border-blue-200",circle:"bg-blue-100 text-blue-600 border-blue-200",text:"text-blue-700",judul:"Tugas Selesai Dinilai",feedback:"Kerja bagus! Sedikit lagi menuju sempurna."}:c>=60?{bg:"bg-amber-50 border-amber-200",circle:"bg-amber-100 text-amber-600 border-amber-200",text:"text-amber-700",judul:"Cukup Baik",feedback:"Sudah cukup baik, pelajari lagi bagian yang kurang ya."}:{bg:"bg-rose-50 border-rose-200",circle:"bg-rose-100 text-rose-600 border-rose-200",text:"text-rose-700",judul:"Perlu Perbaikan",feedback:"Jangan berkecil hati, silakan pelajari kembali materinya."}}),o=J({tugas_id:s.value.tugasID,jawaban_text:n.value?.jawaban_text||"",file:null}),_=S(null),k=S(!1);function L(c){const t=c.target;t.files?.length&&(o.file=t.files[0])}function F(c){k.value=!1,c.dataTransfer?.files?.length&&(o.file=c.dataTransfer.files[0])}function H(){o.file=null,_.value&&(_.value.value="")}function I(){if(!o.file&&!o.jawaban_text&&s.value.mode_pengumpulan!=="text"){M.error("Harap lampirkan jawaban Anda.");return}o.put(O({id:s.value.tugasID}).url,{onSuccess:()=>M.success("Tugas berhasil dikumpulkan!"),onError:()=>M.error("Gagal mengumpulkan tugas.")})}function P(){confirm("Batalkan pengumpulan? Anda harus mengunggah ulang jawaban.")&&E.delete(G({id:n.value.jawabanID}).url)}return(c,t)=>(l(),a("div",ne,[e("div",re,[e("div",oe,[e("div",null,[e("div",ie,[e("span",de,r(s.value.matpel?.nama),1),t[4]||(t[4]=e("span",null,"â€¢",-1)),e("span",null,r(s.value.user.name),1)]),e("h1",ue,r(s.value.title),1)]),e("div",ce,[T.value?(l(),a("div",{key:0,class:v(["flex items-center gap-2 rounded-full border px-4 py-1.5 text-sm font-bold",p.value.bg,p.value.text])},[d(D,{class:"text-lg"}),h(" Nilai: "+r(n.value.nilai.angka)+" / 100 ",1)],2)):f.value?(l(),a("div",be,[d(D,{class:"text-lg"}),t[5]||(t[5]=h(" Sudah Dikumpulkan ",-1))])):x.value?(l(),a("div",pe," Terlewat Deadline ")):g("",!0),e("p",xe,"Tenggat: "+r(u(q)(s.value.deadline)),1)])])]),e("div",me,[e("div",ge,[e("div",fe,[e("div",ve,[e("h3",he,[d($,{class:"text-lg text-blue-500"}),t[6]||(t[6]=h(" Instruksi Tugas ",-1))]),e("span",_e,"Terakhir diupdate: "+r(u(q)(s.value.updated_at)),1)]),e("div",{class:"prose prose-sm max-w-none leading-relaxed text-neutral-600 prose-blue",innerHTML:s.value.content},null,8,ke)]),s.value.attachments?.length?(l(),a("div",we,[t[8]||(t[8]=e("h3",{class:"mb-3 px-1 text-xs font-bold tracking-tight text-neutral-500 uppercase"},"Materi Pendukung",-1)),e("div",ye,[(l(!0),a(A,null,N(s.value.attachments,b=>(l(),a("a",{key:b.id,href:b.url,target:"_blank",class:"group flex items-center gap-3 rounded-xl border border-neutral-100 bg-white p-3 transition-all hover:border-blue-400 hover:bg-blue-50/50"},[e("div",Ce,[d(se,{class:"text-lg"})]),e("div",Me,[e("p",De,r(b.name),1),t[7]||(t[7]=e("p",{class:"text-[10px] font-medium text-neutral-400"},"Unduh Lampiran",-1))])],8,je))),128))])])):g("",!0)]),e("div",$e,[e("div",Te,[e("div",Se,[t[9]||(t[9]=e("h3",{class:"text-sm font-bold tracking-wide"},"Lembar Jawab",-1)),e("div",qe,r(s.value.mode_pengumpulan),1)]),T.value?(l(),a("div",{key:0,class:v(["p-6 text-center transition-all",p.value.bg])},[e("div",Ae,[e("div",{class:v(["flex h-14 w-14 rotate-3 items-center justify-center rounded-2xl border-2 text-2xl font-black shadow-sm",p.value.circle])},r(n.value.nilai.angka),3),e("div",Be,[e("h4",{class:v(["text-sm font-extrabold tracking-tight uppercase",p.value.text])},r(p.value.judul),3),e("p",Le,'"'+r(n.value.feedback||p.value.feedback)+'"',1)])]),e("div",Fe,[t[11]||(t[11]=e("p",{class:"mb-2 text-[9px] font-bold tracking-widest text-neutral-400 uppercase"},"File Jawaban Anda",-1)),n.value.file_url?(l(),a("a",{key:0,href:n.value.file_url,target:"_blank",class:"flex items-center justify-center gap-2 rounded-lg border border-blue-100 bg-white py-2 text-xs font-bold text-blue-600 shadow-sm transition-all hover:bg-blue-600 hover:text-white"},[d($,{class:"text-base"}),t[10]||(t[10]=h(" Lihat Dokumen ",-1))],8,He)):(l(),a("div",Ie,r(n.value.jawaban_text),1))])],2)):f.value?(l(),a("div",Pe,[e("div",ze,[d(D,{class:"text-2xl"})]),t[12]||(t[12]=e("h4",{class:"text-sm font-bold text-neutral-800"},"Tugas Terkirim",-1)),e("p",Ve,"Diterima: "+r(u(C)(n.value.created_at).format("DD MMM, HH:mm")),1),x.value?g("",!0):(l(),a("div",Je,[e("button",{onClick:P,class:"w-full rounded-xl border border-neutral-200 bg-neutral-50 py-2.5 text-[11px] font-bold text-neutral-500 transition-all hover:border-red-100 hover:bg-red-50 hover:text-red-600 active:scale-95"}," Batalkan Pengiriman ")]))])):(l(),a("div",Ne,[x.value?(l(),a("div",Re,t[13]||(t[13]=[e("span",{class:"text-lg"},"âš ï¸",-1),e("p",{class:"text-[10px] leading-tight font-semibold text-rose-700"}," Deadline telah lewat. Pengumpulan Anda akan ditandai terlambat. ",-1)]))):g("",!0),["text","mixed"].includes(s.value.mode_pengumpulan)?(l(),a("div",Ue,[R(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=b=>u(o).jawaban_text=b),rows:"4",class:"w-full rounded-xl border-neutral-100 bg-neutral-50 text-xs placeholder:text-neutral-300 focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-500/10",placeholder:"Tuliskan jawaban singkat..."},null,512),[[U,u(o).jawaban_text]])])):g("",!0),["file","foto","mixed"].includes(s.value.mode_pengumpulan)?(l(),a("div",Ee,[e("div",{onDragover:t[1]||(t[1]=w(b=>k.value=!0,["prevent"])),onDragleave:t[2]||(t[2]=w(b=>k.value=!1,["prevent"])),onDrop:w(F,["prevent"]),onClick:t[3]||(t[3]=b=>_.value?.click()),class:v(["group cursor-pointer rounded-xl border-2 border-dashed px-4 py-6 text-center transition-all",k.value?"border-blue-500 bg-blue-50":"border-neutral-100 hover:border-blue-300 hover:bg-neutral-50"])},[e("input",{type:"file",ref_key:"fileInput",ref:_,class:"hidden",onChange:L,accept:s.value.mode_pengumpulan==="foto"?"image/*":"*"},null,40,Ge),u(o).file?(l(),a("div",Oe,[e("div",Qe,[d($,{class:"shrink-0 text-lg text-blue-500"}),e("div",Ze,[e("p",We,r(u(o).file.name),1),e("p",Xe,r((u(o).file.size/1024/1024).toFixed(1))+"MB",1)])]),e("button",{onClick:w(H,["stop"]),class:"p-1.5 text-neutral-400 transition-colors hover:text-red-500"},[d(K,{class:"text-base"})])])):(l(),a("div",Ke,[d(B,{class:"mx-auto text-xl text-neutral-300 transition-colors group-hover:text-blue-500"}),t[14]||(t[14]=e("p",{class:"text-[11px] font-bold text-neutral-500"},"Pilih File Jawaban",-1))]))],34)])):g("",!0),e("button",{onClick:I,disabled:u(o).processing,class:"group relative flex w-full items-center justify-center gap-2 overflow-hidden rounded-xl bg-blue-600 py-3 text-xs font-bold text-white shadow-lg shadow-blue-600/30 transition-all hover:bg-blue-700 active:scale-95 disabled:opacity-50"},[u(o).processing?(l(),a("span",et,t[15]||(t[15]=[e("svg",{class:"h-3 w-3 animate-spin text-white",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),h(" Memproses... ",-1)]))):(l(),a(A,{key:1},[t[16]||(t[16]=e("span",null,"Serahkan Jawaban",-1)),d(B,{class:"transition-transform group-hover:-translate-y-0.5"})],64))],8,Ye)]))]),t[17]||(t[17]=e("div",{class:"flex items-center gap-3 rounded-xl border border-blue-50 bg-blue-50/30 p-3"},[e("span",{class:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-blue-100 text-[10px]"},"ðŸ’¡"),e("p",{class:"text-[10px] leading-tight font-medium text-blue-800/70"}," Double-check jawabanmu. Setelah diserahkan, perubahan hanya bisa dilakukan sebelum deadline. ")],-1))])])]))}}),rt=y(tt,[["__scopeId","data-v-3a4c9d39"]]);export{rt as default};
