import{m as _,w as C,a9 as S,S as B,c as j,s as N,o as d,h as m,am as b,e,d as v,T as w,L as f,n as $,V as T,k as V,W as M,p as E,r as D,u as F,b as u,t as o,g as h,i,A as L,ah as P,J as y,f as U,z as k,aa as z}from"./app-6R2423CB.js";const I={class:"relative z-[9999]","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},W={class:"fixed inset-0 z-10 overflow-y-auto"},K={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},J=_({__name:"modal-tambah-nilai",props:{show:{type:Boolean,default:!1},maxWidth:{default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(g,{emit:c}){const s=g,n=c;C(()=>s.show,a=>{a?document.body.style.overflow="hidden":document.body.style.overflow=""});const l=()=>{s.closeable&&n("close")},p=a=>{a.key==="Escape"&&s.show&&l()};S(()=>document.addEventListener("keydown",p)),B(()=>{document.removeEventListener("keydown",p),document.body.style.overflow=""});const x=j(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[s.maxWidth]);return(a,t)=>(d(),N(M,{to:"body"},[m(e("div",I,[v(w,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:f(()=>[m(e("div",{class:"fixed inset-0 bg-gray-900/75 backdrop-blur-sm transition-opacity",onClick:l},null,512),[[b,a.show]])]),_:1}),e("div",W,[e("div",K,[v(w,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:f(()=>[m(e("div",{class:$(["relative transform overflow-hidden rounded-xl bg-white text-left shadow-xl transition-all sm:my-8 w-full",x.value])},[a.show?T(a.$slots,"default",{key:0}):V("",!0)],2),[[b,a.show]])]),_:3})])])],512),[[b,a.show]])]))}}),A={class:"mx-auto mt-4 max-w-full space-y-4"},H={class:"flex flex-col items-start justify-between gap-4 rounded-xl border border-neutral-200 bg-white p-4 shadow-sm sm:flex-row sm:items-center"},O={class:"flex items-center gap-3"},q={class:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 text-sm font-bold text-white shadow-md"},G={class:"text-sm leading-tight font-bold text-neutral-800 md:text-base"},Q={class:"font-normal text-neutral-400"},R={class:"mt-0.5 flex items-center gap-2 text-xs text-neutral-500"},X={class:"rounded border border-neutral-200 bg-neutral-100 px-2 py-0.5 font-medium text-neutral-600"},Y={class:"flex flex-col items-end gap-1"},Z={class:"text-xs text-neutral-400"},ee={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},te={class:"flex min-h-[300px] flex-col rounded-xl border border-neutral-200 bg-white shadow-sm md:col-span-2"},se={class:"flex-grow p-5"},ae={key:0,class:"prose prose-sm max-w-none text-[14px] leading-relaxed text-neutral-700 prose-neutral"},le={key:1,class:"flex h-full flex-col items-center justify-center py-10 text-sm text-neutral-400 italic"},oe={class:"space-y-4"},ne={class:"overflow-hidden rounded-xl border border-neutral-200 bg-white shadow-sm"},ie={class:"p-4"},re={key:0},de=["href"],ue={key:1,class:"py-6 text-center"},me={class:"rounded-xl border border-indigo-100 bg-indigo-50 p-4 text-center"},ce={key:0,class:"mb-3"},pe={class:"text-3xl font-bold text-indigo-700"},xe={key:1,class:"mb-2 text-xs font-medium text-indigo-600"},be={class:"flex items-center justify-between border-b border-neutral-100 bg-neutral-50 px-6 py-4"},ve={class:"px-6 pt-6"},fe={class:"p-6"},ge={class:"flex justify-end gap-3 rounded-b-xl bg-gray-50 px-6 py-4"},we=["disabled"],ye=_({__name:"lihat-jawaban",setup(g){const c=E(),s=j(()=>c.props.jawaban),n=D(!1),l=F({jawaban_id:s.value.jawabanID,tugas_id:s.value.tugas_id,nilai:s.value.nilai?s.value.nilai.angka:0,siswa_id:s.value.user_id,komentar:s.value.nilai?.komentar||""});function p(){l.submit(z.simpan(),{onSuccess(){n.value=!1},onError(){n.value=!1}})}const x=a=>a?a.split(" ").map(t=>t[0]).slice(0,2).join("").toUpperCase():"S";return(a,t)=>(d(),u("div",A,[e("div",H,[e("div",O,[e("div",q,o(x(s.value.user_name)),1),e("div",null,[e("h1",G,[h(o(s.value.user_name)+" ",1),e("span",Q,"("+o(s.value.nis)+")",1)]),e("div",R,[e("span",X,o(s.value.kelas_nama),1),t[7]||(t[7]=e("span",null,"•",-1)),e("span",null,o(s.value.nama_matpel),1)])])]),e("div",Y,[e("button",{onClick:t[0]||(t[0]=r=>i(L).visit("/guru/tugas/"+i(c).tugas_id+"/periksa")),class:"flex items-center gap-1 text-xs font-medium text-neutral-500 transition-colors hover:text-neutral-900"},t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m15 18-6-6 6-6"})],-1),h(" Kembali ",-1)])),e("div",Z,"Dikirim: "+o(i(P)(s.value.created_at)),1)])]),e("div",ee,[e("div",te,[t[10]||(t[10]=y('<div class="flex items-center justify-between rounded-t-xl border-b border-neutral-100 bg-neutral-50/50 px-5 py-3"><h3 class="text-xs font-bold tracking-wider text-neutral-500 uppercase">Jawaban Siswa</h3><div class="flex gap-2"><button class="rounded p-1 text-neutral-400 transition hover:bg-neutral-200 hover:text-neutral-600" title="Salin Teks"><svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div></div>',1)),e("div",se,[s.value.jawaban?(d(),u("div",ae,o(s.value.jawaban),1)):(d(),u("div",le,t[9]||(t[9]=[e("span",null,"Tidak ada jawaban tertulis",-1)])))])]),e("div",oe,[e("div",ne,[t[13]||(t[13]=e("div",{class:"border-b border-neutral-100 bg-neutral-50 px-4 py-2 text-xs font-bold tracking-wider text-neutral-500 uppercase"}," Lampiran File ",-1)),e("div",ie,[s.value.file_url?(d(),u("div",re,[e("a",{href:s.value.file_url,target:"_blank",class:"group relative block"},t[11]||(t[11]=[y('<div class="flex items-center gap-3 rounded-lg border border-neutral-200 bg-white p-3 transition-all hover:border-blue-400 hover:shadow-sm"><div class="rounded-md bg-blue-50 p-2 text-blue-600"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"></path></svg></div><div class="overflow-hidden"><p class="truncate text-sm font-medium text-neutral-700 transition-colors group-hover:text-blue-600"> Download File </p><p class="text-[10px] text-neutral-400 uppercase">Klik untuk buka</p></div></div>',1)]),8,de)])):(d(),u("div",ue,t[12]||(t[12]=[e("p",{class:"text-xs text-neutral-400 italic"},"Tidak ada file dilampirkan",-1)])))])]),e("div",me,[s.value.nilai?(d(),u("div",ce,[t[14]||(t[14]=e("span",{class:"mb-1 block text-xs font-medium text-indigo-500"},"Nilai Saat Ini",-1)),e("span",pe,o(s.value.nilai.angka||"-"),1),t[15]||(t[15]=e("span",{class:"text-sm font-medium text-indigo-400"},"/100",-1))])):(d(),u("p",xe,"Perlu memberi nilai?")),e("button",{onClick:t[1]||(t[1]=r=>n.value=!0),class:"w-full rounded-lg border border-indigo-200 bg-white py-2 text-xs font-semibold text-indigo-600 shadow-sm transition-all hover:border-transparent hover:bg-indigo-600 hover:text-white"},o(s.value.nilai?"Ubah Penilaian":"Buka Form Penilaian"),1)]),v(J,{show:n.value,onClose:t[6]||(t[6]=r=>n.value=!1),"max-width":"lg"},{default:f(()=>[e("div",be,[t[16]||(t[16]=e("h3",{class:"text-lg font-bold text-neutral-800"},"Input Penilaian",-1)),e("button",{onClick:t[2]||(t[2]=r=>n.value=!1),class:"text-neutral-400 hover:text-neutral-600"},"✕")]),e("form",{onSubmit:U(p,["prevent"])},[e("div",ve,[t[17]||(t[17]=e("p",{class:"mb-1 text-sm text-gray-500"},"Silakan masukkan nilai untuk siswa ini.",-1)),m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>i(l).nilai=r),type:"number",class:"w-full rounded border p-2",placeholder:"0 - 100"},null,512),[[k,i(l).nilai]])]),e("div",fe,[t[18]||(t[18]=e("label",{class:"mb-1 block text-sm font-medium text-neutral-700"},"Komentar / Feedback",-1)),m(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=r=>i(l).komentar=r),rows:"3",class:"w-full rounded-lg border border-neutral-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"Berikan catatan..."},null,512),[[k,i(l).komentar]])]),e("div",ge,[e("button",{type:"button",onClick:t[5]||(t[5]=r=>n.value=!1),class:"rounded-lg border bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"}," Batal "),e("button",{type:"submit",disabled:i(l).processing,class:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-70"},o(i(l).processing?"Menyimpan...":"Simpan Nilai"),9,we)])],32)]),_:1},8,["show"])])])]))}});export{ye as default};
