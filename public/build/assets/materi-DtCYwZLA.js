import{_ as k,b as n,o,e,m as S,s as f,L as x,t as d,d as _,V as D,i as w,a4 as q,p as V,r as z,w as y,A as b,a5 as L,C as c,k as g,h as I,v as O,F as v,j as $,a6 as F,P as H,g as T,n as P,a7 as N,a8 as E}from"./app-6R2423CB.js";import{_ as A}from"./button.vue_vue_type_script_setup_true_lang-Dz5dKsO2.js";import{I as G}from"./IcBaselineDelete-DmK8arhr.js";import{M}from"./MaterialSymbolsAddCircleOutline-B2_zKTdM.js";const K={name:"MaterialSymbolsCancelOutline"},R={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function U(m,r,a,u,p,i){return o(),n("svg",R,r[0]||(r[0]=[e("path",{fill:"currentColor",d:"m8.4 17l3.6-3.6l3.6 3.6l1.4-1.4l-3.6-3.6L17 8.4L15.6 7L12 10.6L8.4 7L7 8.4l3.6 3.6L7 15.6zm3.6 5q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8"},null,-1)]))}const J=k(K,[["render",U]]),Q={class:"flex items-center justify-between border-b border-neutral-200 px-3 py-3"},W={class:"text-md font-semibold text-neutral-800"},X={class:"p-3"},Y=S({__name:"modal",props:{modalID:{},title:{},showClose:{type:Boolean}},emits:["close","clickOutside"],setup(m,{emit:r}){const a=m,u=r;return(p,i)=>(o(),f(w(q),{onClickOutside:i[1]||(i[1]=h=>u("clickOutside")),"overlay-transition":"vfm-fade","content-transition":"vfm-slide-down","content-class":"bg-white max-w-lg  mx-auto mt-12 rounded-md","modal-id":a.modalID},{default:x(()=>[e("header",Q,[e("span",W,d(a.title),1),e("button",{onClick:i[0]||(i[0]=h=>u("close")),class:"cursor-pointer text-neutral-500 hover:text-red-500"},[_(J)])]),e("div",X,[D(p.$slots,"default")])]),_:3},8,["modal-id"]))}}),Z={name:"MaterialSymbolsSearchRounded"},ee={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function te(m,r,a,u,p,i){return o(),n("svg",ee,r[0]||(r[0]=[e("path",{fill:"currentColor",d:"M9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l5.6 5.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275l-5.6-5.6q-.75.6-1.725.95T9.5 16m0-2q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14"},null,-1)]))}const se=k(Z,[["render",te]]),oe={name:"MaterialSymbolsDescriptionOutline"},le={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"};function re(m,r,a,u,p,i){return o(),n("svg",le,r[0]||(r[0]=[e("path",{fill:"currentColor",d:"M8 18h8v-2H8zm0-4h8v-2H8zm-2 8q-.825 0-1.412-.587T4 20V4q0-.825.588-1.412T6 2h8l6 6v12q0 .825-.587 1.413T18 22zm7-13V4H6v16h12V9zM6 4v5zv16z"},null,-1)]))}const ne=k(oe,[["render",re]]),ae={class:"mt-6 flex flex-col rounded-xl border border-neutral-200 bg-white shadow-sm overflow-hidden max-w-full mx-auto"},ie={class:"flex items-center justify-between border-b border-neutral-100 bg-neutral-50/50 px-4 py-3"},de={class:"relative w-48"},ue=["value"],pe={key:0},ce={class:"divide-y divide-neutral-100"},me={class:"flex items-center gap-3 min-w-0 flex-1"},fe={class:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-blue-50 text-blue-600 font-bold text-xs"},_e={class:"min-w-0 flex-1"},xe={class:"flex items-center gap-2 mb-0.5"},he={class:"truncate text-sm font-semibold text-neutral-800"},be={key:0,class:"inline-flex items-center gap-0.5 rounded px-1.5 py-0.5 text-[10px] bg-neutral-100 text-neutral-500 font-medium border border-neutral-200"},ge={class:"flex items-center text-xs text-neutral-400 gap-3"},ve={class:"flex items-center gap-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"},we=["onClick"],ke={key:1,class:"flex flex-col items-center justify-center py-10 text-center"},ye={class:"mb-2 rounded-full bg-neutral-100 p-2 text-neutral-400"},$e={class:"text-xs text-neutral-500"},C="modalViewData",Be=S({__name:"materi",setup(m){const r=V(),a=z(r.props.kode_matpel??"");y(a,t=>{t&&b.visit("?kode_matpel="+t,{preserveScroll:!0,preserveState:!0})});const u=L();function p(){u.close(C)}async function i(t){confirm("Hapus materi ini?")&&b.delete(N({materi_id:t}).url,{onSuccess:()=>c.success("Terhapus"),onError:()=>c.error("Gagal")})}async function h(t){confirm("Terbitkan materi?")&&b.patch(E().url,{id:t},{onSuccess:()=>c.success("Terbit"),onError:()=>c.error("Gagal")})}return y(()=>r.props.errors,t=>{t.success?c.success(t.success):t.gagal&&c.error(t.gagal)},{deep:!0}),(t,l)=>(o(),n(v,null,[_(Y,{onClose:p,modalID:C,title:"Tambah Data"},{default:x(()=>l[1]||(l[1]=[e("p",null,"Konten...",-1)])),_:1,__:[1]}),e("div",ae,[e("div",ie,[e("div",de,[I(e("select",{"onUpdate:modelValue":l[0]||(l[0]=s=>a.value=s),class:"w-full cursor-pointer appearance-none rounded-md border border-neutral-200 bg-white py-1.5 pl-3 pr-8 text-xs font-medium text-neutral-600 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},[l[2]||(l[2]=e("option",{value:"",disabled:""},"Filter Matpel",-1)),(o(!0),n(v,null,$(t.$page.props.matpels,s=>(o(),n("option",{key:s.kode_matpel,value:s.kode_matpel},d(s.nama),9,ue))),128))],512),[[O,a.value]]),l[3]||(l[3]=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-neutral-400"},[e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1))]),t.$page.props.kelas_kode?(o(),f(w(H),{key:0,href:w(F)({kelas_kode:t.$page.props.kelas_kode}).url,class:"inline-flex items-center gap-1 rounded-md bg-blue-600 px-3 py-1.5 text-xs font-semibold text-white transition-colors hover:bg-blue-700"},{default:x(()=>[_(M,{class:"text-sm"}),l[4]||(l[4]=e("span",null,"Baru",-1))]),_:1,__:[4]},8,["href"])):g("",!0)]),(t.$page.props.matpel_kode||t.$page.props?.materials)&&t.$page.props?.materials.length>0?(o(),n("div",pe,[e("ul",ce,[(o(!0),n(v,null,$(t.$page.props.materials,(s,B)=>(o(),n("li",{key:s.id,class:"group flex items-center justify-between gap-3 px-4 py-3 hover:bg-blue-50/40 transition-colors"},[e("div",me,[e("div",fe,d(s.nomor_materi||B+1),1),e("div",_e,[e("div",xe,[e("h4",he,d(s.title),1),s.jumlahFileMateri>0?(o(),n("span",be,[_(ne,{class:"text-[10px]"}),T(" "+d(s.jumlahFileMateri),1)])):g("",!0)]),e("div",ge,[e("span",null,d(s.publish_date),1),l[5]||(l[5]=e("span",{class:"h-1 w-1 rounded-full bg-neutral-300"},null,-1)),e("span",{class:P(s.is_published?"text-green-600 font-medium":"text-amber-600 font-medium")},d(s.is_published?"Published":"Draft / Terjadwal"),3)])])]),e("div",ve,[s.is_published?g("",!0):(o(),f(A,{key:0,onClick:j=>h(s.id),variant:"secondary",class:"!h-7 !px-2 !text-[10px] bg-white border border-neutral-200 hover:bg-green-50 hover:text-green-700 hover:border-green-200"},{default:x(()=>l[6]||(l[6]=[T(" Publish ",-1)])),_:2,__:[6]},1032,["onClick"])),e("button",{onClick:j=>i(s.id),class:"flex h-7 w-7 items-center justify-center rounded text-neutral-400 hover:bg-red-50 hover:text-red-500 transition-colors",title:"Hapus"},[_(G,{class:"text-base"})],8,we)])]))),128))])])):(o(),n("div",ke,[e("div",ye,[t.$page.props.kode_matpel?(o(),f(se,{key:0,class:"text-xl"})):(o(),f(M,{key:1,class:"text-xl"}))]),e("p",$e,d(t.$page.props.kode_matpel?"Belum ada materi.":"Pilih Mapel di atas."),1)]))])],64))}});export{Be as default};
