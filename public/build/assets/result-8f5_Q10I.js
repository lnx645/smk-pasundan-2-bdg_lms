import{a as h,o as b,d as e,ae as O,af as we,r as J,z as Te,w as Q,b as k,h as j,C as ke,K as je,O as Se,t as u,g as Y,y as qe,v as Oe,F as E,i as ee,j as Re,n as Ie}from"./app-DupgsIkO.js";function Ne(t,r){return b(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function Ee(t,r){return b(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})])}function Le(t,r){return b(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}var L,te;function xe(){if(te)return L;te=1;function t(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}return L=t,L}var C,re;function Ce(){if(re)return C;re=1;var t=typeof O=="object"&&O&&O.Object===Object&&O;return C=t,C}var z,ne;function he(){if(ne)return z;ne=1;var t=Ce(),r=typeof self=="object"&&self&&self.Object===Object&&self,a=t||r||Function("return this")();return z=a,z}var G,se;function ze(){if(se)return G;se=1;var t=he(),r=function(){return t.Date.now()};return G=r,G}var B,ie;function Ge(){if(ie)return B;ie=1;var t=/\s/;function r(a){for(var o=a.length;o--&&t.test(a.charAt(o)););return o}return B=r,B}var D,ae;function Be(){if(ae)return D;ae=1;var t=Ge(),r=/^\s+/;function a(o){return o&&o.slice(0,t(o)+1).replace(r,"")}return D=a,D}var K,oe;function be(){if(oe)return K;oe=1;var t=he(),r=t.Symbol;return K=r,K}var A,le;function De(){if(le)return A;le=1;var t=be(),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,d=t?t.toStringTag:void 0;function m(c){var n=a.call(c,d),s=c[d];try{c[d]=void 0;var i=!0}catch{}var g=o.call(c);return i&&(n?c[d]=s:delete c[d]),g}return A=m,A}var M,de;function Ke(){if(de)return M;de=1;var t=Object.prototype,r=t.toString;function a(o){return r.call(o)}return M=a,M}var F,ce;function Ae(){if(ce)return F;ce=1;var t=be(),r=De(),a=Ke(),o="[object Null]",d="[object Undefined]",m=t?t.toStringTag:void 0;function c(n){return n==null?n===void 0?d:o:m&&m in Object(n)?r(n):a(n)}return F=c,F}var W,ue;function Me(){if(ue)return W;ue=1;function t(r){return r!=null&&typeof r=="object"}return W=t,W}var $,ge;function Fe(){if(ge)return $;ge=1;var t=Ae(),r=Me(),a="[object Symbol]";function o(d){return typeof d=="symbol"||r(d)&&t(d)==a}return $=o,$}var V,fe;function We(){if(fe)return V;fe=1;var t=Be(),r=xe(),a=Fe(),o=NaN,d=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,c=/^0o[0-7]+$/i,n=parseInt;function s(i){if(typeof i=="number")return i;if(a(i))return o;if(r(i)){var g=typeof i.valueOf=="function"?i.valueOf():i;i=r(g)?g+"":g}if(typeof i!="string")return i===0?i:+i;i=t(i);var x=m.test(i);return x||c.test(i)?n(i.slice(2),x?2:8):d.test(i)?o:+i}return V=s,V}var P,me;function $e(){if(me)return P;me=1;var t=xe(),r=ze(),a=We(),o="Expected a function",d=Math.max,m=Math.min;function c(n,s,i){var g,x,S,y,f,p,_=0,U=!1,w=!1,R=!0;if(typeof n!="function")throw new TypeError(o);s=a(s)||0,t(i)&&(U=!!i.leading,w="maxWait"in i,S=w?d(a(i.maxWait)||0,s):S,R="trailing"in i?!!i.trailing:R);function I(l){var v=g,T=x;return g=x=void 0,_=l,y=n.apply(T,v),y}function ve(l){return _=l,f=setTimeout(q,s),U?I(l):y}function pe(l){var v=l-p,T=l-_,X=s-v;return w?m(X,S-T):X}function H(l){var v=l-p,T=l-_;return p===void 0||v>=s||v<0||w&&T>=S}function q(){var l=r();if(H(l))return Z(l);f=setTimeout(q,pe(l))}function Z(l){return f=void 0,R&&g?I(l):(g=x=void 0,y)}function ye(){f!==void 0&&clearTimeout(f),_=0,g=p=x=f=void 0}function _e(){return f===void 0?y:Z(r())}function N(){var l=r(),v=H(l);if(g=arguments,x=this,p=l,v){if(f===void 0)return ve(p);if(w)return clearTimeout(f),f=setTimeout(q,s),I(p)}return f===void 0&&(f=setTimeout(q,s)),y}return N.cancel=ye,N.flush=_e,N}return P=c,P}var Ve=$e();const Pe=we(Ve),Ue={class:"min-h-screen px-4 py-8 font-sans text-gray-900 sm:px-6 lg:px-8"},He={class:"mx-auto max-w-7xl"},Ze={class:"mb-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Xe={class:"flex items-center gap-2"},Je={class:"mt-1 ml-9 text-sm text-gray-500"},Qe={class:"mb-8 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4"},Ye={class:"overflow-hidden rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},et={class:"mt-2 flex items-baseline"},tt={class:"text-3xl font-bold tracking-tight text-gray-900"},rt={class:"overflow-hidden rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},nt={class:"mt-2 flex items-baseline"},st={class:"text-3xl font-bold tracking-tight text-emerald-600"},it={class:"overflow-hidden rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},at={class:"mt-2 flex items-baseline"},ot={class:"text-3xl font-bold tracking-tight text-rose-600"},lt={class:"overflow-hidden rounded-xl bg-white p-4 shadow-sm ring-1 ring-gray-100"},dt={class:"truncate text-sm font-medium text-gray-500"},ct={class:"mt-2 flex items-baseline gap-2"},ut={class:"text-3xl font-bold tracking-tight text-indigo-600"},gt={class:"text-sm text-gray-500"},ft={class:"mb-6 flex flex-col gap-4 sm:flex-row"},mt={class:"relative flex-1"},xt={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},ht={class:"relative min-w-[200px]"},bt={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},vt=["value"],pt={class:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-200"},yt={class:"overflow-x-auto"},_t={class:"min-w-full divide-y divide-gray-200"},wt={class:"divide-y divide-gray-200 bg-white"},Tt={key:0},kt={colspan:"5",class:"py-10 text-center text-sm text-gray-500"},jt={class:"py-4 pr-3 pl-4 text-sm whitespace-nowrap sm:pl-6"},St={class:"font-medium text-gray-900"},qt={class:"text-xs text-gray-500"},Ot={class:"px-3 py-4 text-sm whitespace-nowrap text-gray-500"},Rt={class:"px-3 py-4 text-sm whitespace-nowrap text-gray-500"},It={class:"px-3 py-4 text-center text-sm font-bold whitespace-nowrap text-gray-900"},Nt={class:"px-3 py-4 text-center text-sm whitespace-nowrap"},Lt={__name:"result",props:{quiz:Object,attempts:Array,stats:Object,allKelas:Array,filters:Object},setup(t){const r=t,a=J(r.filters.search||""),o=J(r.filters.kelas||""),d=Pe(()=>{Te.get(`/guru/quiz/${r.quiz.id}/result`,{search:a.value,kelas:o.value},{preserveState:!0,replace:!0})},300);Q(a,()=>{d()}),Q(o,()=>{d()});const m=c=>new Date(c).toLocaleString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return(c,n)=>(b(),h(E,null,[k(j(ke),{title:`Hasil - ${t.quiz.title}`},null,8,["title"]),e("div",Ue,[e("div",He,[e("div",Ze,[e("div",null,[e("div",Xe,[k(j(Se),{href:"/guru/quiz",class:"rounded-full bg-white p-1 text-gray-500 shadow-sm ring-1 ring-gray-200 hover:text-indigo-600"},{default:je(()=>[k(j(Ne),{class:"h-5 w-5"})]),_:1}),n[2]||(n[2]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Hasil Kuis",-1))]),e("p",Je,u(t.quiz.title),1)])]),e("div",Qe,[e("div",Ye,[n[3]||(n[3]=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Rata-rata Nilai",-1)),e("dd",et,[e("span",tt,u(t.stats.average?Number(t.stats.average).toFixed(1):"0"),1)])]),e("div",rt,[n[4]||(n[4]=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Nilai Tertinggi",-1)),e("dd",nt,[e("span",st,u(t.stats.max||0),1)])]),e("div",it,[n[5]||(n[5]=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Nilai Terendah",-1)),e("dd",at,[e("span",ot,u(t.stats.min||0),1)])]),e("div",lt,[e("dt",dt,"Kelulusan (KKM: "+u(t.quiz.passing_grade)+")",1),e("dd",ct,[e("span",ut,u(t.stats.passed),1),e("span",gt,"/ "+u(t.stats.total_students)+" Siswa",1)])])]),e("div",ft,[e("div",mt,[e("div",xt,[k(j(Le),{class:"h-5 w-5 text-gray-400"})]),Y(e("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>a.value=s),type:"text",class:"block w-full rounded-lg border-0 py-2.5 pl-10 ring-1 ring-gray-300 ring-inset placeholder:text-gray-400 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"Cari nama siswa..."},null,512),[[qe,a.value]])]),e("div",ht,[e("div",bt,[k(j(Ee),{class:"h-5 w-5 text-gray-400"})]),Y(e("select",{"onUpdate:modelValue":n[1]||(n[1]=s=>o.value=s),class:"block w-full rounded-lg border-0 py-2.5 pl-10 ring-1 ring-gray-300 ring-inset focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"},[n[6]||(n[6]=e("option",{value:""},"Semua Kelas",-1)),(b(!0),h(E,null,ee(t.allKelas,s=>(b(),h("option",{key:s.id,value:s.id},u(s.nama),9,vt))),128))],512),[[Oe,o.value]])])]),e("div",pt,[e("div",yt,[e("table",_t,[n[7]||(n[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pr-3 pl-4 text-left text-xs font-bold tracking-wide text-gray-500 uppercase sm:pl-6"}," Siswa "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-xs font-bold tracking-wide text-gray-500 uppercase"},"Kelas"),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-xs font-bold tracking-wide text-gray-500 uppercase"}," Waktu Submit "),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-xs font-bold tracking-wide text-gray-500 uppercase"},"Nilai"),e("th",{scope:"col",class:"px-3 py-3.5 text-center text-xs font-bold tracking-wide text-gray-500 uppercase"},"Status")])],-1)),e("tbody",wt,[t.attempts.length===0?(b(),h("tr",Tt,[e("td",kt,u(o.value?"Tidak ada data nilai untuk kelas ini.":"Belum ada data nilai yang masuk."),1)])):Re("",!0),(b(!0),h(E,null,ee(t.attempts,s=>(b(),h("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",jt,[e("div",St,u(s.user?.name),1),e("div",qt,u(s.user?.email),1)]),e("td",Ot,u(s.user?.siswa?.kelas?.nama||"-"),1),e("td",Rt,u(m(s.finished_at)),1),e("td",It,u(s.score),1),e("td",Nt,[e("span",{class:Ie(["inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",s.score>=t.quiz.passing_grade?"bg-green-50 text-green-700 ring-1 ring-green-600/20":"bg-red-50 text-red-700 ring-1 ring-red-600/20"])},u(s.score>=t.quiz.passing_grade?"Lulus":"Remedial"),3)])]))),128))])])])])])])],64))}};export{Lt as default};
