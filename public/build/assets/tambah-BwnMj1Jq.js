import{m as C,u as L,c as M,w as P,r as k,b as l,o as a,d as b,e,f as N,k as d,i as o,t as r,h as i,z as f,g as j,v as m,J as D,F as w,j as F,Q as g,O as A,C as y}from"./app-6R2423CB.js";import{_ as B}from"./breadcrumb.vue_vue_type_script_setup_true_lang-DduX5xEt.js";import{C as T}from"./camera-DUYlcWEg.js";import{S as R}from"./save-BklBu0eK.js";const G={class:"mt-3 px-4 pb-10"},J={class:"w-full lg:w-1/4"},X={class:"sticky top-6 flex flex-col items-center rounded-xl border border-neutral-200 bg-white p-6 text-center shadow-sm"},E=["src"],H={key:1,class:"flex h-full w-full flex-col items-center justify-center bg-neutral-50 text-neutral-400 group-hover:text-indigo-500"},$={key:0,class:"mt-2 text-xs text-red-500"},z={class:"flex-1"},O={class:"rounded-xl border border-neutral-200 bg-white shadow-sm"},Q={class:"p-6"},Y={class:"grid grid-cols-1 gap-5 md:grid-cols-2"},q={class:"col-span-1 md:col-span-2"},W={key:0,class:"text-xs text-red-500"},Z={key:0,class:"text-xs text-red-500"},tt={class:"col-span-1 grid grid-cols-1 gap-4 md:col-span-2 md:grid-cols-3"},et=["disabled"],st=["value"],ot={key:0,class:"mt-1 text-[10px] text-amber-600"},nt={key:1,class:"text-xs text-red-500"},lt={class:"col-span-1 md:col-span-2"},at={class:"flex flex-wrap items-center gap-6 pt-1"},it={class:"flex cursor-pointer items-center gap-2 text-sm text-neutral-600 transition hover:text-indigo-600"},rt={class:"flex cursor-pointer items-center gap-2 text-sm text-neutral-600 transition hover:text-indigo-600"},dt={class:"flex cursor-pointer items-center gap-2 text-sm text-neutral-600 transition hover:text-indigo-600"},ut={class:"flex cursor-pointer items-center gap-2 text-sm text-neutral-600 transition hover:text-indigo-600"},pt={class:"flex items-center justify-end gap-3 rounded-b-xl border-t border-neutral-100 bg-neutral-50 px-6 py-4"},mt=["disabled"],gt={key:0},xt={key:1},kt=C({__name:"tambah",props:{kelasList:{}},setup(h){const S=h,_=[{label:"Dashboard"},{label:"User Management"},{label:"Siswa"},{label:"Tambah"}],s=L({name:"",nis:"",jenis_kelamin:"L",agama:"Islam",tahun_masuk:new Date().getFullYear().toString(),tingkat:10,kelas_id:"",status:"Aktif",pas_photo:null}),x=M(()=>S.kelasList.filter(p=>p.tingkat==s.tingkat));P(()=>s.tingkat,()=>{s.kelas_id=""});const u=k(null),c=k(null),V=p=>{const t=p.target;if(t.files&&t.files[0]){const n=t.files[0];s.pas_photo=n;const v=new FileReader;v.onload=K=>{u.value=K.target?.result},v.readAsDataURL(n)}},U=()=>{c.value?.click()},I=()=>{s.submit(A.simpanSiswa(),{onSuccess:()=>{y.success("Ada kesalahan pada saat simpan data siswa! Periksa lagi inputan anda",{position:"top-center"}),s.reset(),u.value=null},onError(){y.error("Ada kesalahan pada saat simpan data siswa! Periksa lagi inputan anda",{position:"top-center"})}})};return(p,t)=>(a(),l(w,null,[b(B,{items:_}),e("div",G,[e("form",{onSubmit:N(I,["prevent"]),class:"flex flex-col gap-6 lg:flex-row"},[e("div",J,[e("div",X,[t[14]||(t[14]=e("h3",{class:"mb-4 text-sm font-semibold text-neutral-700"},"Foto Profil",-1)),e("div",{class:"group relative h-32 w-32 cursor-pointer overflow-hidden rounded-full border-2 border-dashed border-neutral-300 transition-colors hover:border-indigo-500",onClick:U},[u.value?(a(),l("img",{key:0,src:u.value,class:"h-full w-full object-cover"},null,8,E)):(a(),l("div",H,[b(o(T),{class:"mb-1 h-8 w-8"}),t[12]||(t[12]=e("span",{class:"text-[10px]"},"Upload",-1))])),t[13]||(t[13]=e("div",{class:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 transition-opacity group-hover:opacity-100"},[e("span",{class:"text-xs font-medium text-white"},"Ganti")],-1))]),e("input",{ref_key:"fileInput",ref:c,type:"file",accept:"image/*",class:"hidden",onChange:V},null,544),t[15]||(t[15]=e("p",{class:"mt-4 text-[10px] text-neutral-400"},"Format: JPG, PNG. Maks 2MB.",-1)),o(s).errors.pas_photo?(a(),l("div",$,r(o(s).errors.pas_photo),1)):d("",!0)])]),e("div",z,[e("div",O,[t[32]||(t[32]=e("div",{class:"border-b border-neutral-100 px-6 py-4"},[e("h2",{class:"text-base font-semibold text-neutral-800"},"Informasi Siswa"),e("p",{class:"text-xs text-neutral-500"},"Lengkapi data diri siswa & akun pengguna.")],-1)),e("div",Q,[e("div",Y,[e("div",q,[t[16]||(t[16]=e("label",{class:"mb-1.5 block text-xs font-medium text-neutral-700"},"Nama Lengkap",-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>o(s).name=n),type:"text",class:"w-full rounded-lg border border-neutral-200 bg-neutral-50 px-3 py-2 text-sm transition-all outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100",placeholder:"Contoh: Dimas Aditya"},null,512),[[f,o(s).name]]),o(s).errors.name?(a(),l("span",W,r(o(s).errors.name),1)):d("",!0)]),e("div",null,[t[17]||(t[17]=e("label",{class:"mb-1.5 block text-xs font-medium text-neutral-700"},[j("NIS "),e("sup",{class:"text-red-500"},"*")],-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>o(s).nis=n),type:"number",class:"w-full rounded-lg border border-neutral-200 px-3 py-2 text-sm transition-all outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100",placeholder:"Nomor Induk Siswa"},null,512),[[f,o(s).nis]]),o(s).errors.nis?(a(),l("span",Z,r(o(s).errors.nis),1)):d("",!0)]),e("div",null,[t[19]||(t[19]=e("label",{class:"mb-1.5 block text-xs font-medium text-neutral-700"},"Jenis Kelamin",-1)),i(e("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>o(s).jenis_kelamin=n),class:"w-full rounded-lg border border-neutral-200 bg-white px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"},t[18]||(t[18]=[e("option",{value:"L"},"Laki-laki",-1),e("option",{value:"P"},"Perempuan",-1)]),512),[[m,o(s).jenis_kelamin]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"mb-1.5 block text-xs font-medium text-neutral-700"},"Agama",-1)),i(e("select",{"onUpdate:modelValue":t[3]||(t[3]=n=>o(s).agama=n),class:"w-full rounded-lg border border-neutral-200 bg-white px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"},t[20]||(t[20]=[D('<option value="Islam">Islam</option><option value="Kristen">Kristen</option><option value="Katolik">Katolik</option><option value="Hindu">Hindu</option><option value="Buddha">Buddha</option><option value="Konghucu">Konghucu</option>',6)]),512),[[m,o(s).agama]])]),e("div",tt,[e("div",null,[t[22]||(t[22]=e("label",{class:"mb-1.5 block text-xs font-medium text-neutral-700"},"Tahun Masuk",-1)),i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>o(s).tahun_masuk=n),type:"number",class:"w-full rounded-lg border border-neutral-200 px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"},null,512),[[f,o(s).tahun_masuk]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"mb-1.5 block text-xs font-medium text-neutral-700"},"Tingkat",-1)),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=n=>o(s).tingkat=n),class:"w-full rounded-lg border border-neutral-200 bg-white px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100"},t[23]||(t[23]=[e("option",{value:"10"},"X (Sepuluh)",-1),e("option",{value:"11"},"XI (Sebelas)",-1),e("option",{value:"12"},"XII (Dua Belas)",-1)]),512),[[m,o(s).tingkat]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"mb-1.5 block text-xs font-medium text-neutral-700"},"Kelas",-1)),i(e("select",{"onUpdate:modelValue":t[6]||(t[6]=n=>o(s).kelas_id=n),disabled:x.value.length===0,class:"w-full rounded-lg border border-neutral-200 bg-white px-3 py-2 text-sm outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-100 disabled:bg-neutral-100 disabled:text-neutral-400"},[t[25]||(t[25]=e("option",{value:"",disabled:""},"Pilih Kelas",-1)),(a(!0),l(w,null,F(x.value,n=>(a(),l("option",{key:n.id,value:n.id},r(n.nama),9,st))),128))],8,et),[[m,o(s).kelas_id]]),x.value.length===0?(a(),l("div",ot," *Tidak ada kelas untuk tingkat "+r(o(s).tingkat),1)):d("",!0),o(s).errors.kelas_id?(a(),l("span",nt,r(o(s).errors.kelas_id),1)):d("",!0)])]),e("div",lt,[t[31]||(t[31]=e("label",{class:"mb-1.5 block text-xs font-medium text-neutral-700"},"Status Siswa",-1)),e("div",at,[e("label",it,[i(e("input",{type:"radio","onUpdate:modelValue":t[7]||(t[7]=n=>o(s).status=n),value:"aktif",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[g,o(s).status]]),t[27]||(t[27]=e("span",{class:"font-medium"},"Aktif",-1))]),e("label",rt,[i(e("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=n=>o(s).status=n),value:"lulus",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[g,o(s).status]]),t[28]||(t[28]=e("span",{class:"font-medium"},"Lulus",-1))]),e("label",dt,[i(e("input",{type:"radio","onUpdate:modelValue":t[9]||(t[9]=n=>o(s).status=n),value:"keluar",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[g,o(s).status]]),t[29]||(t[29]=e("span",{class:"font-medium"},"Keluar",-1))]),e("label",ut,[i(e("input",{type:"radio","onUpdate:modelValue":t[10]||(t[10]=n=>o(s).status=n),value:"tinggal_kelas",class:"text-indigo-600 focus:ring-indigo-500"},null,512),[[g,o(s).status]]),t[30]||(t[30]=e("span",{class:"font-medium"},"Tinggal Kelas",-1))])])])])]),e("div",pt,[e("button",{type:"button",class:"rounded-lg border border-neutral-200 bg-white px-4 py-2 text-sm font-medium text-neutral-600 transition hover:bg-neutral-100 active:scale-95",onClick:t[11]||(t[11]=n=>o(s).reset())}," Reset "),e("button",{type:"submit",disabled:o(s).processing,class:"flex items-center gap-2 rounded-lg bg-indigo-600 px-6 py-2 text-sm font-medium text-white transition hover:bg-indigo-700 hover:shadow-lg hover:shadow-indigo-500/30 active:scale-95 disabled:opacity-50"},[b(o(R),{class:"h-4 w-4"}),o(s).processing?(a(),l("span",gt,"Menyimpan...")):(a(),l("span",xt,"Simpan Data"))],8,mt)])])])],32)])],64))}});export{kt as default};
