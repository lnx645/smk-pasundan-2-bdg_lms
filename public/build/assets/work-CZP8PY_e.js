import{r as b,c as y,u as B,aa as T,R as I,a as d,o as u,d as e,t as a,n as f,f as p,F as k,i as _,g as Q,P as $,I as A,aS as D}from"./app-DupgsIkO.js";const L={class:"min-h-screen bg-gray-100 font-sans text-gray-900 selection:bg-indigo-100"},N={class:"sticky top-0 z-50 border-b border-gray-200 bg-white px-4 py-3 shadow-sm"},V={class:"mx-auto flex max-w-7xl items-center justify-between"},F={class:"max-w-[200px] truncate text-lg font-bold text-gray-900 sm:max-w-md"},E={class:"text-xs text-gray-500"},K={class:"flex items-center gap-4"},O={class:"mx-auto grid max-w-7xl grid-cols-1 gap-6 p-4 lg:grid-cols-12 lg:p-8"},R={class:"lg:order-1 lg:col-span-8"},U={class:"flex min-h-[500px] flex-col justify-between rounded-2xl border border-gray-200 bg-white p-6 shadow-sm sm:p-8"},J={class:"mb-6 flex items-start gap-4"},P={class:"flex h-10 w-10 flex-none items-center justify-center rounded-xl bg-indigo-600 text-lg font-bold text-white shadow-lg shadow-indigo-200"},G={class:"prose prose-lg max-w-none text-gray-800"},H={class:"leading-relaxed font-medium whitespace-pre-wrap"},W={class:"space-y-3 pl-14"},X=["name","value"],Y={class:"flex-grow text-base font-medium text-gray-700 transition-colors peer-checked:text-indigo-900"},Z={class:"mr-2 font-bold"},ee={class:"mt-10 flex items-center justify-between border-t border-gray-100 pt-6"},te=["disabled"],se={class:"lg:order-2 lg:col-span-4"},oe={class:"rounded-2xl border border-gray-200 bg-white p-6 shadow-sm"},ne={class:"grid grid-cols-5 gap-2 sm:grid-cols-6 lg:grid-cols-5"},ae=["onClick"],ie={__name:"work",props:{quiz:Object,attempt:Object,questions:Array},setup(c){const g=c,n=b(0),r=b({}),m=b(0),x=b(null);g.questions.forEach(s=>{r.value[s.id]=null});const j=()=>{const s=new Date(g.attempt.started_at).getTime(),t=g.quiz.duration*60*1e3,o=s+t;x.value=setInterval(()=>{const l=new Date().getTime(),v=o-l;v<0?(clearInterval(x.value),m.value=0,w(!0)):m.value=Math.floor(v/1e3)},1e3)},S=y(()=>{const s=Math.floor(m.value/60),t=m.value%60;return`${s.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`}),i=y(()=>g.questions[n.value]),C=()=>{n.value<g.questions.length-1&&n.value++},q=()=>{n.value>0&&n.value--},M=s=>{n.value=s},z=s=>!!r.value[s],h=B({answers:{}}),w=(s=!1)=>{!s&&!confirm("Apakah Anda yakin ingin menyelesaikan ujian ini?")||(clearInterval(x.value),h.answers=r.value,h.post(D.submit({attempt:g.attempt.id}).url,{replace:!0}))};return T(()=>{j(),window.onbeforeunload=()=>"Anda sedang mengerjakan ujian!"}),I(()=>{clearInterval(x.value),window.onbeforeunload=null}),(s,t)=>(u(),d("div",L,[e("header",N,[e("div",V,[e("div",null,[e("h1",F,a(c.quiz.title),1),e("p",E,"Soal "+a(n.value+1)+" dari "+a(c.questions.length),1)]),e("div",K,[e("div",{class:f(["flex items-center gap-2 rounded-lg px-4 py-2 font-mono text-lg font-bold shadow-sm transition-colors",m.value<60?"animate-pulse border border-red-100 bg-red-50 text-red-600":"bg-gray-900 text-white"])},[t[3]||(t[3]=e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),p(" "+a(S.value),1)],2)])])]),e("div",O,[e("div",R,[e("div",U,[e("div",null,[e("div",J,[e("span",P,a(n.value+1),1),e("div",G,[e("p",H,a(i.value.question_text),1)])]),e("div",W,[(u(!0),d(k,null,_(i.value.options,(o,l)=>(u(),d("label",{key:o.id,class:f(["group relative flex cursor-pointer items-center rounded-xl border-2 p-4 transition-all hover:bg-gray-50",r.value[i.value.id]===o.id?"border-indigo-600 bg-indigo-50/50 hover:bg-indigo-50":"border-gray-200 hover:border-indigo-200"])},[Q(e("input",{type:"radio",name:`question_${i.value.id}`,value:o.id,"onUpdate:modelValue":t[0]||(t[0]=v=>r.value[i.value.id]=v),class:"peer sr-only"},null,8,X),[[$,r.value[i.value.id]]]),e("div",{class:f(["mr-4 flex h-6 w-6 flex-none items-center justify-center rounded-full border-2 transition-all",r.value[i.value.id]===o.id?"border-indigo-600 bg-indigo-600 text-white":"border-gray-300 bg-white text-transparent group-hover:border-indigo-300"])},t[4]||(t[4]=[e("svg",{class:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]),2),e("div",Y,[e("span",Z,a(String.fromCharCode(65+l))+".",1),p(" "+a(o.option_text),1)])],2))),128))])]),e("div",ee,[e("button",{onClick:q,disabled:n.value===0,class:"flex items-center gap-2 rounded-lg px-5 py-2.5 text-sm font-bold text-gray-600 transition hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-50"},t[5]||(t[5]=[e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),p(" Sebelumnya ",-1)]),8,te),n.value<c.questions.length-1?(u(),d("button",{key:0,onClick:C,class:"flex items-center gap-2 rounded-lg bg-gray-900 px-6 py-2.5 text-sm font-bold text-white shadow-md hover:bg-gray-800"},t[6]||(t[6]=[p(" Selanjutnya ",-1),e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))):(u(),d("button",{key:1,onClick:t[1]||(t[1]=o=>w(!1)),class:"flex items-center gap-2 rounded-lg bg-green-600 px-6 py-2.5 text-sm font-bold text-white shadow-md hover:bg-green-700"},t[7]||(t[7]=[p(" Selesai & Kumpulkan ",-1),e("svg",{class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])))])])]),e("div",se,[e("div",oe,[t[8]||(t[8]=e("h3",{class:"mb-4 text-sm font-bold tracking-wider text-gray-500 uppercase"},"Navigasi Soal",-1)),e("div",ne,[(u(!0),d(k,null,_(c.questions,(o,l)=>(u(),d("button",{key:o.id,onClick:v=>M(l),class:f(["flex h-10 w-10 items-center justify-center rounded-lg text-sm font-bold transition-all",[n.value===l?"border-2 border-indigo-200 bg-white text-indigo-600 ring-2 ring-indigo-500 ring-offset-2":z(o.id)?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"]])},a(l+1),11,ae))),128))]),t[9]||(t[9]=A('<div class="mt-8 space-y-3 border-t border-gray-100 pt-6"><div class="flex items-center gap-3"><span class="h-3 w-3 rounded-full bg-indigo-600 shadow-sm"></span><span class="text-sm font-medium text-gray-600">Sudah dijawab</span></div><div class="flex items-center gap-3"><span class="h-3 w-3 rounded-full bg-gray-200"></span><span class="text-sm font-medium text-gray-600">Belum dijawab</span></div><div class="flex items-center gap-3"><span class="h-3 w-3 rounded-full border-2 border-indigo-500 bg-white"></span><span class="text-sm font-medium text-gray-600">Sedang dikerjakan</span></div></div>',1)),e("button",{onClick:t[2]||(t[2]=o=>w(!1)),class:"mt-6 w-full rounded-xl bg-gray-900 py-3 text-sm font-bold text-white shadow-lg transition hover:bg-gray-800"}," Kumpulkan Jawaban ")])])])]))}};export{ie as default};
